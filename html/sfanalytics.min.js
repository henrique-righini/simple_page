class Propriedades{constructor(a,e,t,s,n,i,r,o,c,l,u,v){this.jornada=a,this.subJornada=e,this.tipoEvento=t,this.acao=s,this.ferramentas=n,this.nomeDado=i,this.section=r,this.valorDado=o,this.eVarName=c,this.eVarData=l,this.customDimensionName=u,this.customDimensionData=v}}class TagView{constructor(a,e,t){this.event=a,this.contentGroupping=e,this.screenName=t}}class TagEvent extends TagView{constructor(a,e,t,s,n,i){super(a,e,t),this.eventCategory=s,this.eventAction=n,this.eventLabel=i}}let target=document.getElementById("sfanalytics"),aplicacao=target.attributes["sfanalytics-aplicacao"].value,tagsDisparadasChat=[],observer=new MutationObserver(a=>{a.forEach(()=>{var a,e=document.querySelectorAll("[sfanalytics-event-type]"),t=document.querySelectorAll("[sfanalytics-chat]");if(0<e.length)for(var s of e)s.attributes["sfanalytics-tag-verificada"]||(s.setAttribute("sfanalytics-tag-verificada","true"),definirTipoDisparo(s));if(0<t.length)for(var n of t)n.attributes["sfanalytics-tag-verificada"]||""===n.attributes["sfanalytics-chat"].value||(n.setAttribute("sfanalytics-tag-verificada","true"),a=JSON.parse(n.attributes["sfanalytics-chat"].value),definirTipoDisparo(n,!0,a))})});observer.observe(target,{attributes:!0,subtree:!0});const definirTipoDisparo=(a,e,t)=>{e?"event"===t["sfanalytics-event-type"]?"true"!==t["sfanalytics-disparo-imediato"]?criarListener(a,!0,t):dispararTag(t,!0,!0):dispararTag(t,!1,!0):"event"===a.attributes["sfanalytics-event-type"].value?"true"!==a.attributes["sfanalytics-disparo-imediato"]?.value?criarListener(a):dispararTag(a,!0):"screenview"===a.attributes["sfanalytics-event-type"].value&&dispararTag(a,!1)},criarListener=(a,e,t)=>{e=e?t["sfanalytics-listener"]:a.attributes["sfanalytics-listener"].value;a.addEventListener(e,a=>{validarClickComponente(a,t)})},validarClickComponente=(a,e)=>{a.path?a.path.every(a=>!a.attributes["sfanalytics-event-type"]||(dispararTag(a,!0),!1)):a.currentTarget.attributes["sfanalytics-event-type"]?dispararTag(a.currentTarget,!0):e&&dispararTag(e,!0,!0)},removerPropsVazias=e=>{Object.keys(e).forEach(function(a){void 0===e[a]&&delete e[a]})},validarDisparoTag=a=>!(tagsDisparadasChat=window.tagsDisparadasChat||[]).includes(a)&&(tagsDisparadasChat.push(a),!0),dispararTag=(a,e,t)=>{let s,n,i={};s=t?new Propriedades(a["sfanalytics-jornada"],a["sfanalytics-subjornada"],a["sfanalytics-event-type"],a["sfanalytics-event-action"],a["sfanalytics-ferramentas"],a["sfanalytics-data-name"],a["sfanalytics-event-category"],a["sfanalytics-event-label"],a["sfanalytics-evar-name"],a["sfanalytics-evar-data"],a["sfanalytics-custom-dimension-name"],a["sfanalytics-custom-dimension-data"]):new Propriedades(a.attributes["sfanalytics-jornada"]?.value,a.attributes["sfanalytics-subjornada"]?.value,a.attributes["sfanalytics-event-type"]?.value,a.attributes["sfanalytics-event-action"]?.value,a.attributes["sfanalytics-ferramentas"]?.value,a.attributes["sfanalytics-data-name"]?.value,a.attributes["sfanalytics-event-category"]?.value,a.attributes["sfanalytics-event-label"]?.value,a.attributes["sfanalytics-evar-name"]?.value,a.attributes["sfanalytics-evar-data"]?.value,a.attributes["sfanalytics-custom-dimension-name"]?.value,a.attributes["sfanalytics-custom-dimension-data"]?.value),n=e?new TagEvent(`${s.tipoEvento}:${s.jornada}:${s.subJornada}:${s.acao}:`+s.nomeDado,aplicacao+":"+s.jornada,`${aplicacao}:${s.jornada}:`+s.subJornada,`${aplicacao}:${s.jornada}:${s.subJornada}:`+s.section,s.acao,s.valorDado):new TagView(`${s.tipoEvento}:${s.jornada}:${s.subJornada}:`+s.acao,aplicacao+":"+s.jornada,`${aplicacao}:${s.jornada}:`+s.subJornada),s.ferramentas&&(s.ferramentas=s.ferramentas.split(";")),s.ferramentas.includes("adobeAnalytics")&&(i.adobeAnalytics={event:n.event,page:{contentGroupping:n.contentGroupping,screenName:n.screenName,eventCategory:n.eventCategory,eventAction:n.eventAction,eventLabel:n.eventLabel}},s.eVarName&&s.eVarData&&(s.eVarName=s.eVarName.split(";"),s.eVarData=s.eVarData.split(";"),s.eVarName.forEach((a,e)=>{i.adobeAnalytics.page[a]=s.eVarData[e]})),removerPropsVazias(i.adobeAnalytics.page)),s.ferramentas.includes("googleAnalytics")&&(i.googleAnalytics={event:n.event,contentGroupping:n.contentGroupping,screenName:n.screenName,eventCategory:n.eventCategory,eventAction:n.eventAction,eventLabel:n.eventLabel},s.customDimensionName&&s.customDimensionData&&(s.customDimensionName=s.customDimensionName.split(";"),s.customDimensionData=s.customDimensionData.split(";"),s.customDimensionName.forEach((a,e)=>{i.googleAnalytics[a]=s.customDimensionData[e]})),removerPropsVazias(i.googleAnalytics)),s.ferramentas.includes("appsFlyer")&&(e=a.attributes["sfanalytics-event-name-appsFlyer"].value,i.appsFlyer={eventName:e,eventParams:{}},i.firebase={eventName:e,eventParams:{}}),(t&&validarDisparoTag(n.event)||!t)&&window.disparoSfAnalytics(i)};