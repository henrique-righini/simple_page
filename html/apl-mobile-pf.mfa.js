f2XaI[2299]=(function(){var I=2;for(;I !== 9;){switch(I){case 2:I=typeof globalThis === '\x6f\x62\u006a\x65\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var H;try{var C=2;for(;C !== 6;){switch(C){case 2:Object['\x64\u0065\u0066\u0069\x6e\u0065\x50\u0072\u006f\u0070\u0065\u0072\x74\x79'](Object['\u0070\x72\x6f\x74\x6f\u0074\x79\u0070\x65'],'\x55\u004d\x35\x4b\x32',{'\x67\x65\x74':function(){var q=2;for(;q !== 1;){switch(q){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});H=UM5K2;H['\u0061\x67\x75\x62\x66']=H;C=4;break;case 4:C=typeof agubf === '\u0075\u006e\u0064\x65\x66\x69\u006e\u0065\u0064'?3:9;break;case 9:delete H['\x61\x67\x75\u0062\x66'];var r=Object['\u0070\u0072\x6f\u0074\u006f\u0074\x79\x70\x65'];delete r['\u0055\x4d\x35\x4b\x32'];C=6;break;case 3:throw "";C=9;break;}}}catch(W){H=window;}return H;break;}}})();f2XaI[193838]=313;f2XaI[607104]="gOb";f2XaI[528201]="SkS";f2XaI[553226]=true;f2XaI[241385]=308;f2XaI[72672]="V6G";f2XaI[21377]=462;f2XaI[138500]=false;f2XaI[2299].b2JJ=f2XaI;f2XaI[132173]=f2XaI[2299];function f2XaI(){}angular.module("mfa-spa-challenges.journeys").decorator("mfaFacematch",decorator);decorator.inject=['\u0064\u0079\u006e\u0061\x74\u0072\u0061\u0063\x65'];function decorator($delegate,dynatrace){var originalInit=$delegate.init;$delegate.init=function(resolve_,reject_,data_){originalInit(finalizarAcaoResolve,finalizarAcaoReject,data_);function finalizarAcaoResolve(data){dynatrace.finalizarAcaoTemporizada('\u006d\u0066\u0061\u002d\x66\x61\u0063\u0065\u006d\x61\u0074\x63\x68',true);if(typeof resolve_ === "function"){resolve_(data);}}function finalizarAcaoReject(data){dynatrace.finalizarAcaoTemporizada("mfa-facematch",false);if(typeof reject_ === '\x66\x75\u006e\x63\x74\x69\u006f\x6e'){reject_(data);}}};return $delegate;}(function(){"use strict";angular.module("mfa-spa-challenges.journeys").service('\x6d\u0066\u0061\u0042\u006c\x6f\x63\x6b',mfaBlock);mfaBlock.$inject=['\u006d\x6f\u0064\u0061\x6c\u0062\x6c\u006f\x63\u006b\x4d\x66\x61','\x6d\x6f\x64\u0061\u006c\x42\u0069\u006f\x6d\u0065\u0074\x72\x69\x61\u0042\u006c\u006f\u0071\x75\u0065\u0061\u0064\u0061','\x6d\x6f\x64\x61\x6c\u0062\u006c\u006f\u0063\x6b\u0054\u006f\x6b\u0065\u006e\u004d\u0066\u0061',"sfLoader"];function mfaBlock(modalblockMfa,modalBiometriaBloqueada,modalblockTokenMfa,sfLoader){return {'\x64\x69\x73\x6d\x69\x73\x73\x4c\x6f\x61\x64\x65\x72':dismissLoader,'\x69\x6e\x69\x74':init};function init(resolve,reject,data){if(angular.isDefined(data) && angular.isDefined(data.listaDesafios) && data.listaDesafios.length === 1){if(data.listaDesafios[0] == "senha"){modalblockMfa.abrirModal(undefined,undefined,'\u0070\u0061\u0073\x73\x77\x6f\x72\u0064',undefined,undefined,undefined,undefined,'\x6d\x73\x74\u0043\x74\u0072\x6c',"center-modal",undefined,'\x6d\x6f\u0064\x61\u006c\x2d\x67\x61\x76\x65\u0074\u0061','\u0062\u006c\x6f\u0063\x6b',resolve,reject,data);}else if(data.listaDesafios[0] == '\x66\u0061\x63\x65\x6d\u0061\u0074\x63\x68'){modalBiometriaBloqueada.abrirModal(undefined,undefined,'\x70\u0061\x73\u0073\u0077\x6f\u0072\x64',undefined,undefined,undefined,undefined,'\u006d\x73\x74\u0043\u0074\u0072\x6c',"center-modal",undefined,"modal-gaveta",'\u0062\u0069\u006f\x6d\u0065\x74\u0072\u0069\x61\u002d\u0062\x6c\x6f\x71\u0075\x65\u0061\u0064\u0061',resolve,reject,data);}else if(data.listaDesafios[0] == '\x74\x6f\x6b\x65\u006e'){modalblockTokenMfa.abrirModal(undefined,undefined,"password",undefined,undefined,undefined,undefined,'\x6d\u0073\x74\x43\u0074\u0072\x6c','\x63\x65\u006e\u0074\x65\u0072\x2d\u006d\x6f\u0064\x61\u006c',undefined,'\x6d\u006f\u0064\x61\x6c\u002d\x67\u0061\u0076\u0065\u0074\x61','\x62\u006c\x6f\x63\x6b\x2d\x74\x6f\x6b\u0065\x6e',resolve,reject,data);}}else {reject();}}function dismissLoader(){try{sfLoader.esconderLoader('\u006c\u006f\u0061\u0064');}catch(e){console.log(e);}}}})();(function(){"use strict";angular.module("mfa-spa-challenges.journeys").service('\x6d\u0066\x61\x45\u006d\u0061\u0069\u006c',mfaEmail);mfaEmail.$inject=['\u0064\u0079\x6e\u0061\u0074\u0072\u0061\u0063\u0065','\x63\u0068\u0061\u0074\x4d\x6f\u0064\x61\u006c',"sfContexto","jornadasNovoAcessoConstants"];function mfaEmail(dynatrace,chatModal,sfContexto,jornadasNovoAcessoConstants){return {'\x64\x69\x73\x6d\x69\x73\x73\x4c\x6f\x61\x64\x65\x72':dismissLoader,'\x69\x6e\x69\x74':init};function init(resolve,reject,data){if(document.querySelector('\u0073\x66\x2d\x63\u002d\x63\x68\x61\u0074\u002d\x62\u006f\u0064\x79\u002d\x6d\u0066\u0061') !== null){window['\u0073\u0066\u0043\x6f\u006d\u0070\u006f\u006e\x65\u006e\x74\x73'].sfPubSub.pub('\x61\u0064\u0069\u0063\u0069\x6f\u006e\u0061\x72\u0044\x65\x73\x61\x66\x69\x6f',{'\x72\x65\x73\x6f\x6c\x76\x65':resolve,'\x72\x65\x6a\x65\x63\x74':reject,'\x64\x65\x73\x61\x66\x69\x6f':'\u0065\u006d\x61\u0069\x6c'});}else {abrirChatDesafio(data.configRequest);window['\x73\x66\u0043\x6f\u006d\u0070\x6f\u006e\x65\x6e\u0074\u0073'].sfPubSub.sub("devolveDesafio",function(){enviarDesafio(_resolve,_reject);},true);}function _resolve(dados){dynatrace.finalizarAcaoTemporizada('\u006d\x66\u0061\u002d\x73\u006d\x73',true);if(typeof resolve === '\x66\u0075\u006e\x63\u0074\x69\u006f\u006e'){resolve(dados);}}function _reject(dados){dynatrace.finalizarAcaoTemporizada("mfa-sms",false);if(typeof reject === '\u0066\u0075\x6e\u0063\x74\x69\u006f\x6e'){reject(dados);}}}function enviarDesafio(_resolve,_reject){window['\u0073\x66\u0043\u006f\x6d\x70\u006f\x6e\x65\x6e\x74\x73'].sfPubSub.pub('\u0061\u0064\u0069\x63\u0069\x6f\u006e\u0061\u0072\x44\u0065\x73\x61\u0066\x69\u006f',{'\x72\x65\x73\x6f\x6c\x76\x65':_resolve,'\x72\x65\x6a\x65\x63\x74':_reject,'\x64\x65\x73\x61\x66\x69\x6f':"email"});}function abrirChatDesafio(configRequest){chatModal.exibirModal({'\x66\x6c\x75\x78\x6f':definirJornada(configRequest),'\x70\x61\x79\x6c\x6f\x61\x64':{'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho("AGENCIA_COMUNICACAO"),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho("CONTA_CORRENTE"),'\x69\x64\x43\x6c\x69\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho('\x43\u004f\x44\x49\x47\u004f\u005f\x43\u004c\u0049\u0045\u004e\u0054\u0045')},'\x64\x65\x73\x61\x66\x69\x6f':"email"},definirFluxo(configRequest));}function definirFluxo(configRequest){var url=configRequest.url.split('\u002f');url=url[url.length - 1];return jornadasNovoAcessoConstants[url].jornada;}function definirJornada(configRequest){var url=configRequest.url.split('\u002f');url=url[url.length - 1];return jornadasNovoAcessoConstants[url].fluxo;}function dismissLoader(){}}})();(function(){"use strict";var constant={'\x6d\x61\x6e\x75\x74\x65\x6e\x63\x61\x6f\x2d\x6d\x6f\x62\x69\x6c\x65\x2d\x6d\x66\x61':{'\x66\x6c\x75\x78\x6f':'\u0074\x6f\x6b\u0065\u006e\x2d\x62\x6c\x6f\u0071\x75\u0065\x61\u0064\u006f','\x6a\x6f\x72\x6e\x61\x64\x61':""},'\x64\x65\x73\x62\x6c\x6f\x71\x75\x65\x69\x6f\x2d\x73\x65\x6e\x68\x61\x2d\x65\x6c\x65\x74\x72\x6f\x6e\x69\x63\x61\x2d\x6d\x66\x61':{'\x66\x6c\x75\x78\x6f':'\u0073\u0065\x6e\u0068\x61\x2d\x65\x6c\x65\x74\x72\x6f\u006e\x69\x63\x61\u002d\x62\x6c\x6f\u0071\x75\x65\u0061\u0064\x61','\x6a\x6f\x72\x6e\x61\x64\x61':'\x64\u0065\u0073\x62\x6c\x6f\x71\x75\x65\u0069\u006f\x2d\x73\u0065\x6e\u0068\u0061'},'\x72\x65\x64\x65\x66\x69\x6e\x69\x72\x2d\x73\x65\x6e\x68\x61\x2d\x65\x6c\x65\x74\x72\x6f\x6e\x69\x63\x61\x2d\x6d\x66\x61':{'\x66\x6c\x75\x78\x6f':"redefinicao-senha-eletronica",'\x6a\x6f\x72\x6e\x61\x64\x61':""},'\x64\x65\x73\x62\x6c\x6f\x71\x75\x65\x69\x6f\x2d\x73\x65\x6e\x68\x61\x2d\x74\x72\x61\x6e\x73\x61\x63\x69\x6f\x6e\x61\x6c\x2d\x6d\x66\x61':{'\x66\x6c\x75\x78\x6f':'\u0064\u0065\u0073\x62\u006c\x6f\x71\u0075\u0065\u0069\u006f\u002d\u0073\x65\u006e\u0068\x61\u002d\u0074\x72\u0061\x6e\u0073\x61\u0063\x69\x6f\u006e\u0061\x6c\x2d\u006c\u006f\u0067\u0061\x64\x61','\x6a\x6f\x72\x6e\x61\x64\x61':""},'\x63\x61\x64\x61\x73\x74\x72\x61\x72\x44\x69\x73\x70\x6f\x73\x69\x74\x69\x76\x6f\x4c\x69\x62\x65\x72\x61\x64\x6f\x4e\x6f\x76\x6f\x41\x63\x65\x73\x73\x6f\x2d\x6d\x66\x61':{'\x66\x6c\x75\x78\x6f':"desbloqueio-dispositivo-titular",'\x6a\x6f\x72\x6e\x61\x64\x61':"cadastro-device"}};angular.module("mfa-spa-challenges.journeys").constant('\x6a\x6f\x72\x6e\u0061\u0064\x61\u0073\x4e\u006f\x76\x6f\u0041\x63\x65\x73\u0073\u006f\u0043\x6f\u006e\u0073\u0074\x61\u006e\x74\u0073',constant);})();(function(){"use strict";angular.module("mfa-spa-challenges.journeys").service('\u006d\u0066\u0061\x4b\u0062\u0061',mfaKba);mfaKba.$inject=['\x64\x79\u006e\u0061\u0074\u0072\u0061\x63\u0065',"chatModal","sfContexto",'\u006a\x6f\u0072\u006e\u0061\u0064\u0061\u0073\u004e\x6f\x76\x6f\x41\u0063\u0065\u0073\x73\x6f\x43\u006f\u006e\x73\x74\x61\u006e\x74\x73'];function mfaKba(dynatrace,chatModal,sfContexto,jornadasNovoAcessoConstants){return {'\x64\x69\x73\x6d\x69\x73\x73\x4c\x6f\x61\x64\x65\x72':dismissLoader,'\x69\x6e\x69\x74':init};function init(resolve,reject,data){var stringJson=JSON.stringify(data);data=JSON.parse(new window.TextDecoder().decode(Uint8Array.from(stringJson,m=>m.codePointAt(0))));if(document.querySelector("sf-c-chat-body-mfa") !== null){window['\x73\u0066\u0043\x6f\x6d\u0070\x6f\u006e\u0065\x6e\x74\x73'].sfPubSub.pub('\u0061\x64\u0069\x63\x69\u006f\x6e\x61\x72\u0044\x65\u0073\x61\u0066\x69\x6f\x4b\x42\x41',{'\x72\x65\x73\x6f\x6c\x76\x65':_resolve,'\x72\x65\x6a\x65\x63\x74':_reject,'\x64\x61\x74\x61':{'\x71\x75\x65\x73\x74\x69\x6f\x6e\x73':data.questions,'\x74\x69\x63\x6b\x65\x74\x49\x64':data.ticketId}});}else {abrirChatDesafio(data.configRequest);window["sfComponents"].sfPubSub.sub("devolveDesafio",function(){enviarDesafio(_resolve,_reject,data);},true);}function abrirChatDesafio(configRequest){chatModal.exibirModal({'\x66\x6c\x75\x78\x6f':definirJornada(configRequest),'\x70\x61\x79\x6c\x6f\x61\x64':{'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho("AGENCIA_COMUNICACAO"),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho("CONTA_CORRENTE"),'\x69\x64\x43\x6c\x69\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE")},'\x64\x65\x73\x61\x66\x69\x6f':"kba"},definirFluxo(configRequest));}function _resolve(dados){dynatrace.finalizarAcaoTemporizada("mfa-kba",true);if(typeof resolve === "function"){resolve(dados);}}function _reject(dados){dynatrace.finalizarAcaoTemporizada("mfa-kba",false);if(typeof reject === "function"){reject(dados);}}function definirFluxo(configRequest){var url=configRequest.url.split("/");url=url[url.length - 1];return jornadasNovoAcessoConstants[url].jornada;}function definirJornada(configRequest){var url=configRequest.url.split('\u002f');url=url[url.length - 1];return jornadasNovoAcessoConstants[url].fluxo;}function enviarDesafio(_resolve,_reject,data){window["sfComponents"].sfPubSub.pub('\u0061\u0064\x69\u0063\x69\x6f\x6e\x61\u0072\u0044\u0065\u0073\u0061\x66\u0069\x6f\u004b\u0042\u0041',{'\x72\x65\x73\x6f\x6c\x76\x65':_resolve,'\x72\x65\x6a\x65\x63\x74':_reject,'\x64\x61\x74\x61':{'\x71\x75\x65\x73\x74\x69\x6f\x6e\x73':data.questions,'\x74\x69\x63\x6b\x65\x74\x49\x64':data.ticketId}});}}function dismissLoader(){}}})();(function(){"use strict";angular.module('\x6d\u0066\u0061\x2d\x73\x70\u0061\u002d\u0063\x68\u0061\u006c\u006c\x65\u006e\x67\x65\x73\x2e\x6a\x6f\u0075\u0072\u006e\x65\u0079\u0073').factory('\x6d\u006f\u0064\x61\u006c\u0042\x69\u006f\x6d\x65\u0074\u0072\u0069\x61\x42\x6c\x6f\u0071\x75\u0065\u0061\x64\u0061',modalBiometriaBloqueada);modalBiometriaBloqueada.$inject=['\u0024\x75\x69\x62\x4d\u006f\x64\x61\x6c',"sfContexto","sfConectorAPI",'\u0073\u0066\u004e\x61\u0076\x65\u0067\x61\u0064\u006f\u0072'];function modalBiometriaBloqueada($uibModal,sfContexto,sfConectorAPI,sfNavegador){return {'\x61\x62\x72\x69\x72\x4d\x6f\x64\x61\x6c':abrirModal};function abrirModal(titulo,mensagem,nomeTemplate,acaoOK,acaoCancelar,dados,controller,controllerAs,size,backdrop,windowTopClass,templateUrl,resolve,reject,data){templateUrl="./app/modulos/@CORE/mfa/views/biometria-bloqueada.html";if(angular.isUndefined(nomeTemplate) || nomeTemplate == null || nomeTemplate == ""){nomeTemplate="modalMensagem";}if(angular.isUndefined(controller)){controller="modalblockMfaController";}if(angular.isUndefined(controllerAs)){controllerAs="ctrlModal";}if(angular.isUndefined(dados)){dados=[];}if(titulo != undefined && titulo != null && titulo != ""){dados.titulo=titulo;}if(mensagem != undefined && mensagem != null && mensagem != ""){dados.mensagem=mensagem;}if(size == undefined || size == null || size == ""){size="sm";}if(angular.isUndefined(backdrop) || backdrop == null || backdrop === ""){backdrop='\x74\x72\u0075\u0065';}if(angular.isUndefined(templateUrl) || templateUrl == null || templateUrl == ""){templateUrl='\x2e\x2f\u0061\u0070\x70\u002f\x6d\u006f\x64\u0075\u006c\u006f\u0073\u002f\u0040\x43\u004f\x52\u0045\u002f\u006d\u0066\x61\u002f\u0076\x69\x65\u0077\u0073\u002f' + nomeTemplate + '\x2e\x68\u0074\u006d\u006c';}function executarModal(suprimirSenha){var suprimirModal=suprimirSenha;if(!suprimirModal){var instanciaModal=$uibModal.open({'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':templateUrl,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':controller,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':controllerAs,'\x62\x61\x63\x6b\x64\x72\x6f\x70':backdrop,'\x73\x69\x7a\x65':size,'\x77\x69\x6e\x64\x6f\x77\x54\x6f\x70\x43\x6c\x61\x73\x73':windowTopClass,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){return dados;}},'\x77\x69\x6e\x64\x6f\x77\x43\x6c\x61\x73\x73':'\x62\x6f\x74\u0074\u006f\u006d\x2d\x6d\x6f\u0064\u0061\x6c\x2d\x61\x6e\u0069\x6d\u0065'});instanciaModal.result.then(function(dadosRetornoModalOK){if(dadosRetornoModalOK == true){reject();}else {reject();}},function(){reject();});}else if(suprimirModal && (acaoOK || acaoCancelar)){;}return instanciaModal;}var instanciaModal=executarModal();instanciaModal.opened.then(function(){window["sfComponents"].sfPubSub.sub("fecharMFA",instanciaModal.close,true);});}}angular.module("mfa-spa-challenges.journeys").controller('\u006d\u006f\x64\x61\x6c\u0062\u006c\x6f\x63\u006b\x4d\u0066\u0061\u0043\x6f\u006e\x74\x72\u006f\u006c\x6c\x65\u0072',modalblockMfaController);modalblockMfaController.$inject=['\u0024\x75\u0069\u0062\u004d\x6f\x64\u0061\u006c\u0049\x6e\x73\x74\x61\x6e\x63\u0065','\u0064\x61\x64\x6f\u0073','\x61\x70\x70\x53\u0065\u0074\x74\u0069\x6e\x67\u0073'];function modalblockMfaController($uibModalInstance,dados,appSettings){var vm=this;vm.dados=dados;vm.caminhoAssets=appSettings.configuracao.caminhoAssets.core;vm.acaoOK=function(dadosOK){$uibModalInstance.close(dadosOK);};vm.acaoCancelar=function(dadosCancelar){$uibModalInstance.dismiss(dadosCancelar);};vm.acaoclose=function(){$uibModalInstance.close();};}})();(function(){"use strict";angular.module("mfa-spa-challenges.journeys").factory('\u006d\x6f\x64\u0061\x6c\u0042\x69\x6f\x6d\x65\x74\u0072\x69\x61\x49\u006e\x76\x61\u006c\x69\u0064\u0061',modalBiometriaInvalida);modalBiometriaInvalida.$inject=['\x24\u0075\x69\u0062\x4d\u006f\x64\u0061\u006c'];function modalBiometriaInvalida($uibModal){return {'\x61\x62\x72\x69\x72\x4d\x6f\x64\x61\x6c':abrirModal};function abrirModal(titulo,mensagem,nomeTemplate,acaoOK,acaoCancelar,dados,controller,controllerAs,size,backdrop,windowTopClass,templateUrl,resolve,reject){templateUrl="./app/modulos/@CORE/mfa/views/biometria-invalida.html";if(angular.isUndefined(nomeTemplate) || nomeTemplate == null || nomeTemplate == ""){nomeTemplate='\x6d\x6f\u0064\x61\u006c\x4d\u0065\x6e\u0073\u0061\x67\u0065\u006d';}if(angular.isUndefined(controller)){controller='\x6d\x6f\u0064\x61\u006c\x42\u0069\x6f\u006d\u0065\u0074\x72\x69\x61\u0049\u006e\x76\x61\u006c\u0069\u0064\u0061\u004d\x66\x61\x43\x6f\u006e\u0074\u0072\x6f\x6c\x6c\x65\x72';}if(angular.isUndefined(controllerAs)){controllerAs="ctrlModal";}if(angular.isUndefined(dados)){dados=[];}if(titulo != undefined && titulo != null && titulo != ""){dados.titulo=titulo;}if(mensagem != undefined && mensagem != null && mensagem != ""){dados.mensagem=mensagem;}if(size == undefined || size == null || size == ""){size="sm";}if(angular.isUndefined(backdrop) || backdrop == null || backdrop === ""){backdrop='\u0074\x72\u0075\u0065';}if(angular.isUndefined(templateUrl) || templateUrl == null || templateUrl == ""){templateUrl='\x2e\u002f\x61\x70\u0070\x2f\u006d\x6f\u0064\x75\u006c\u006f\x73\u002f\x40\u0043\u004f\u0052\x45\u002f\u006d\x66\x61\x2f\x76\u0069\x65\u0077\u0073\u002f' + nomeTemplate + ".html";}function executarModal(suprimirSenha){var suprimirModal=suprimirSenha;if(!suprimirModal){var instanciaModal=$uibModal.open({'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':templateUrl,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':controller,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':controllerAs,'\x62\x61\x63\x6b\x64\x72\x6f\x70':backdrop,'\x73\x69\x7a\x65':size,'\x77\x69\x6e\x64\x6f\x77\x54\x6f\x70\x43\x6c\x61\x73\x73':windowTopClass,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){return dados;}},'\x77\x69\x6e\x64\x6f\x77\x43\x6c\x61\x73\x73':"bottom-modal-anime"});instanciaModal.result.then(function(dadosRetornoModalOK){if(dadosRetornoModalOK == true){resolve();}else {resolve();}},function(){reject();});}else if(suprimirModal && (acaoOK || acaoCancelar)){;}return instanciaModal;}var instanciaModal=executarModal();instanciaModal.opened.then(function(){window["sfComponents"].sfPubSub.sub("fecharMFA",instanciaModal.close,true);});}}angular.module('\x6d\x66\u0061\x2d\u0073\x70\x61\x2d\u0063\u0068\u0061\x6c\x6c\x65\x6e\x67\x65\u0073\u002e\u006a\x6f\u0075\u0072\u006e\u0065\u0079\x73').controller("modalBiometriaInvalidaMfaController",modalBiometriaInvalidaMfaController);modalBiometriaInvalidaMfaController.$inject=['\x24\u0075\u0069\u0062\x4d\x6f\x64\u0061\u006c\x49\u006e\u0073\x74\u0061\x6e\u0063\u0065','\u0064\u0061\u0064\x6f\x73','\u0069\x6e\x74\u0065\x72\x70\x72\x65\x74\x61\u0064\u006f\x72\x43\u006f\x6d\x75\u006e\x69\u0063\u0061\x63\x61\u006f',"sfToken",'\u0024\x69\x6e\x74\u0065\x72\u0076\x61\u006c',"sfLoader",'\u0074\u0061\x67\x43\x6f\x6e\u0073\u0075\x6c\u0074\u0061\u0053\u0065\u006e\x68\x61\u0053\x65\x72\u0076\u0069\x63\u0065','\x73\u0066\x43\u006f\x6e\u0074\x65\x78\u0074\u006f',"sfNavegador","modal",'\x61\u0070\u0070\u0053\x65\x74\x74\u0069\u006e\u0067\x73'];function modalBiometriaInvalidaMfaController($uibModalInstance,dados,interpretadorComunicacao,sfToken,$interval,sfLoader,tagConsultaSenhaService,sfContexto,sfNavegador,modal,appSettings){var vm=this;vm.dados=dados;vm.caminhoAssets=appSettings.configuracao.caminhoAssets.core;vm.acaoOK=function(dadosOK){$uibModalInstance.close(dadosOK);};vm.acaoCancelar=function(dadosCancelar){$uibModalInstance.dismiss(dadosCancelar);};vm.voltarInicio=function(){var estadoAtual=sfNavegador.obterEstadoAtual();if(estadoAtual.id === '\x6e\x6f\u0076\x6f\x41\x63\x65\u0073\x73\u006f\u004c\x6f\u0067\x69\u006e'){$uibModalInstance.close();}else {sfNavegador.iniciarFluxo("apl-mobile-pf-facelift-home");}};vm.acaoclose=function(){$uibModalInstance.close();};}})();(function(){"use strict";angular.module('\u006d\x66\x61\x2d\x73\x70\x61\x2d\u0063\u0068\u0061\u006c\x6c\x65\x6e\x67\x65\u0073\x2e\x6a\u006f\u0075\x72\x6e\u0065\x79\x73').factory('\u006d\u006f\x64\x61\x6c\u0062\x6c\u006f\x63\u006b\x4d\u0066\x61',modalblockMfa);modalblockMfa.$inject=["$uibModal","sfContexto","sfConectorAPI","sfNavegador"];function modalblockMfa($uibModal,sfContexto,sfConectorAPI,sfNavegador){return {'\x61\x62\x72\x69\x72\x4d\x6f\x64\x61\x6c':abrirModal};function abrirModal(titulo,mensagem,nomeTemplate,acaoOK,acaoCancelar,dados,controller,controllerAs,size,backdrop,windowTopClass,templateUrl,reject){templateUrl="./app/modulos/@CORE/mfa/views/block.html";if(angular.isUndefined(nomeTemplate) || nomeTemplate == null || nomeTemplate == ""){nomeTemplate="modalMensagem";}if(angular.isUndefined(controller)){controller="modalblockMfaController";}if(angular.isUndefined(controllerAs)){controllerAs="ctrlModal";}if(angular.isUndefined(dados)){dados=[];}if(titulo != undefined && titulo != null && titulo != ""){dados.titulo=titulo;}if(mensagem != undefined && mensagem != null && mensagem != ""){dados.mensagem=mensagem;}if(size == undefined || size == null || size == ""){size='\u0073\x6d';}if(angular.isUndefined(backdrop) || backdrop == null || backdrop === ""){backdrop="true";}if(angular.isUndefined(templateUrl) || templateUrl == null || templateUrl == ""){templateUrl='\x2e\u002f\x61\u0070\x70\u002f\u006d\u006f\x64\u0075\u006c\x6f\u0073\u002f\x40\u0043\x4f\u0052\x45\u002f\x6d\x66\u0061\x2f\x76\x69\u0065\u0077\u0073\u002f' + nomeTemplate + '\u002e\x68\u0074\u006d\x6c';}function executarModal(suprimirSenha){var suprimirModal=suprimirSenha;if(!suprimirModal){var instanciaModal=$uibModal.open({'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':templateUrl,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':controller,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':controllerAs,'\x62\x61\x63\x6b\x64\x72\x6f\x70':backdrop,'\x73\x69\x7a\x65':size,'\x77\x69\x6e\x64\x6f\x77\x54\x6f\x70\x43\x6c\x61\x73\x73':windowTopClass,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){return dados;}},'\x77\x69\x6e\x64\x6f\x77\x43\x6c\x61\x73\x73':'\u0062\u006f\u0074\x74\u006f\x6d\x2d\u006d\x6f\x64\x61\x6c\x2d\u0061\x6e\u0069\x6d\x65'});instanciaModal.result.then(function(dadosRetornoModalOK){if(dadosRetornoModalOK == true){desbloquearSenha();reject();}else {reject();}},function(){reject();});}else if(suprimirModal && (acaoOK || acaoCancelar)){;}return instanciaModal;}var instanciaModal=executarModal();instanciaModal.opened.then(function(){window['\x73\x66\x43\u006f\u006d\x70\u006f\u006e\x65\x6e\u0074\x73'].sfPubSub.sub("fecharMFA",instanciaModal.close,true);});}function desbloquearSenha(){var param={'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho('\x41\u0047\u0045\x4e\x43\u0049\x41\x5f\u0043\x4f\u004d\u0055\x4e\x49\x43\u0041\u0043\u0041\x4f'),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho("CONTA_CORRENTE"),'\x63\x6f\x6e\x74\x61\x43\x6f\x72\x72\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho('\u0043\u004f\x4e\x54\x41\x5f\u0043\x4f\u0052\u0052\x45\x4e\u0054\u0045'),'\x63\x6f\x64\x69\x67\x6f\x43\x6c\x69\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE"),'\x63\x61\x6e\x61\x6c':"HIN",'\x69\x64\x4d\x6f\x74\x69\x76\x6f\x44\x65\x73\x62\x6c\x6f\x71\x75\x65\x69\x6f':"",'\x63\x6f\x64\x69\x67\x6f\x55\x73\x75\x61\x72\x69\x6f':"MBF",'\x75\x73\x75\x61\x72\x69\x6f':sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE").toString(),'\x6d\x6f\x74\x69\x76\x6f\x44\x65\x73\x62\x6c\x6f\x71\x75\x65\x69\x6f':'\u0044\x65\u0073\x62\u006c\u006f\x71\u0075\u0065\u0069\x6f\u0020\u006e\u006f\u0076\x6f\x20\u0061\x63\u0065\x73\u0073\u006f','\x64\x6e\x61\x4d\x61\x71\x75\x69\x6e\x61':sfContexto.obterValorContextoTrabalho("IDENTIFICACAO_MAQUINA") && sfContexto.obterValorContextoTrabalho('\u0049\x44\u0045\u004e\x54\u0049\u0046\u0049\u0043\x41\u0043\x41\u004f\u005f\x4d\x41\u0051\x55\u0049\u004e\x41') != ""?sfContexto.obterValorContextoTrabalho("IDENTIFICACAO_MAQUINA").replace('\x7c',""):undefined,'\x74\x69\x70\x6f\x4f\x70\x65\x72\x61\x63\x61\x6f':"NOVO_ACESSO_DESBLOQUEIO_SENHA_TRANSACIONAL",'\x73\x65\x67\x6d\x65\x6e\x74\x6f':sfContexto.obterValorContextoTrabalho("SEGMENTACAOGERENTE_CONTA")};console.info(param);var req={'\x6d\x65\x74\x68\x6f\x64':"POST",'\x75\x72\x6c':'\x73\x65\x6e\x68\x61\x2f\u0064\x65\u0073\x62\x6c\x6f\u0071\x75\x65\x69\x6f\u002d\u0073\x65\u006e\u0068\u0061\x2d\u0074\u0072\x61\u006e\u0073\u0061\u0063\u0069\x6f\x6e\u0061\x6c','\x64\x61\x74\x61':param,'\x64\x61\x74\x61\x54\x79\x70\x65':'\x6a\u0073\u006f\u006e','\x65\x6e\x76\x69\x61\x72\x41\x6e\x61\x6c\x69\x73\x65\x52\x69\x73\x63\x6f':true};return sfConectorAPI.executar(req,true).then(function(response){sfNavegador.iniciarFluxo("apl-mobile-pf-facelift-home");});}}angular.module('\x6d\u0066\x61\u002d\x73\x70\u0061\u002d\u0063\x68\u0061\u006c\u006c\u0065\x6e\x67\x65\u0073\u002e\x6a\x6f\u0075\u0072\x6e\u0065\u0079\u0073').controller("modalblockMfaController",modalblockMfaController);modalblockMfaController.$inject=["$uibModalInstance","dados","appSettings"];function modalblockMfaController($uibModalInstance,dados,appSettings){var vm=this;vm.dados=dados;vm.caminhoAssets=appSettings.configuracao.caminhoAssets.core;vm.acaoOK=function(dadosOK){$uibModalInstance.close(dadosOK);};vm.acaoCancelar=function(dadosCancelar){$uibModalInstance.dismiss(dadosCancelar);};vm.acaoclose=function(){$uibModalInstance.close();};}})();(function(){"use strict";angular.module('\x6d\x66\u0061\u002d\x73\x70\x61\x2d\x63\x68\x61\x6c\u006c\x65\x6e\u0067\x65\x73\u002e\u006a\x6f\u0075\u0072\x6e\x65\x79\x73').factory('\u006d\x6f\u0064\u0061\x6c\x62\u006c\u006f\u0063\u006b\x54\u006f\u006b\u0065\u006e\u004d\x66\u0061',modalblockTokenMfa);modalblockTokenMfa.$inject=["$uibModal","sfContexto","sfConectorAPI","sfNavegador","sfToken"];function modalblockTokenMfa($uibModal,sfContexto,sfConectorAPI,sfNavegador,sfToken){return {'\x61\x62\x72\x69\x72\x4d\x6f\x64\x61\x6c':abrirModal};function abrirModal(titulo,mensagem,nomeTemplate,acaoOK,acaoCancelar,dados,controller,controllerAs,size,backdrop,windowTopClass,templateUrl,resolve,reject,data){templateUrl='\u002e\x2f\u0061\u0070\u0070\x2f\u006d\x6f\u0064\u0075\x6c\u006f\x73\x2f\u0040\x43\x4f\x52\u0045\x2f\u006d\x66\u0061\u002f\u0076\u0069\x65\u0077\u0073\x2f\x62\u006c\u006f\x63\x6b\u002d\x74\u006f\u006b\x65\x6e\x2e\u0068\u0074\x6d\u006c';if(angular.isUndefined(nomeTemplate) || nomeTemplate == null || nomeTemplate == ""){nomeTemplate="modalMensagem";}if(angular.isUndefined(controller)){controller='\u006d\u006f\u0064\u0061\u006c\x62\u006c\u006f\u0063\u006b\x54\x6f\x6b\u0065\x6e\u004d\u0066\x61\x43\u006f\x6e\u0074\x72\u006f\u006c\x6c\u0065\u0072';}if(angular.isUndefined(controllerAs)){controllerAs='\x63\u0074\x72\x6c\u004d\x6f\x64\u0061\u006c';}if(angular.isUndefined(dados)){dados=[];}if(titulo != undefined && titulo != null && titulo != ""){dados.titulo=titulo;}if(mensagem != undefined && mensagem != null && mensagem != ""){dados.mensagem=mensagem;}if(size == undefined || size == null || size == ""){size="sm";}if(angular.isUndefined(backdrop) || backdrop == null || backdrop === ""){backdrop='\u0074\x72\u0075\u0065';}if(angular.isUndefined(templateUrl) || templateUrl == null || templateUrl == ""){templateUrl='\u002e\x2f\u0061\u0070\x70\u002f\x6d\u006f\x64\u0075\u006c\x6f\u0073\x2f\u0040\u0043\u004f\u0052\x45\x2f\u006d\u0066\x61\x2f\x76\x69\x65\u0077\x73\x2f' + nomeTemplate + ".html";}function executarModal(suprimirSenha){var suprimirModal=suprimirSenha;if(!suprimirModal){var instanciaModal=$uibModal.open({'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':templateUrl,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':controller,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':controllerAs,'\x62\x61\x63\x6b\x64\x72\x6f\x70':backdrop,'\x73\x69\x7a\x65':size,'\x77\x69\x6e\x64\x6f\x77\x54\x6f\x70\x43\x6c\x61\x73\x73':windowTopClass,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){return dados;}},'\x77\x69\x6e\x64\x6f\x77\x43\x6c\x61\x73\x73':"bottom-modal-anime"});instanciaModal.result.then(function(dadosRetornoModalOK){if(dadosRetornoModalOK == true){desbloquearToken();reject();}else {reject();}},function(){reject();});}else if(suprimirModal && (acaoOK || acaoCancelar)){;}return instanciaModal;}var instanciaModal=executarModal();instanciaModal.opened.then(function(){window['\x73\x66\u0043\u006f\u006d\u0070\x6f\u006e\x65\x6e\u0074\x73'].sfPubSub.sub('\x66\u0065\u0063\x68\x61\x72\x4d\u0046\x41',instanciaModal.close,true);});}function desbloquearToken(){var body={'\x73\x75\x70\x6c\x69\x63\x61\x6e\x74\x65':{'\x66\x75\x6e\x63\x61\x6f':'\x41','\x69\x6e\x64\x4d\x6f\x62\x69\x6c\x65':'\u0053','\x74\x69\x70\x6f\x50\x65\x73\x73\x6f\x61':"PF"}};sfToken.consulta.validarDispositivo(body).then(res=>{if(res.data){var serialNumber=res.data.serialNumberTokenMobile;desbloquearTokens(serialNumber);}});}function desbloquearTokens(serialNumber){sfToken.mobile.manutencao({'\x6f\x70\x63\x61\x6f':4,'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho("AGENCIA_COMUNICACAO"),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho('\u0041\u0047\x45\x4e\x43\u0049\u0041\x5f\x43\u004f\u004d\x55\u004e\u0049\u0043\x41\u0043\x41\u004f'),'\x63\x6f\x64\x43\x6c\x69\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE"),'\x64\x6e\x61\x4d\x61\x71\x75\x69\x6e\x61':sfContexto.obterValorContextoTrabalho("DNA"),'\x74\x69\x70\x6f\x4f\x70\x65\x72\x61\x63\x61\x6f':"NOVO_ACESSO_DESBLOQUEIO_TOKEN",'\x73\x65\x72\x69\x61\x6c\x4e\x75\x6d\x62\x65\x72':serialNumber,'\x75\x73\x75\x61\x72\x69\x6f':sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE"),'\x73\x65\x67\x6d\x65\x6e\x74\x6f':sfContexto.obterValorContextoTrabalho("SEGMENTACAOGERENTE_CONTA")},false,"",true).then(function(response){sfNavegador.iniciarFluxo("apl-mobile-pf-facelift-home");});}}angular.module("mfa-spa-challenges.journeys").controller('\x6d\x6f\x64\u0061\u006c\x62\u006c\u006f\x63\x6b\u0054\u006f\u006b\u0065\x6e\u004d\u0066\x61\u0043\x6f\x6e\u0074\u0072\u006f\x6c\u006c\x65\u0072',modalblockTokenMfaController);modalblockTokenMfaController.$inject=["$uibModalInstance",'\x64\u0061\x64\u006f\x73',"interpretadorComunicacao","sfToken","$interval",'\u0073\u0066\u004c\x6f\u0061\u0064\u0065\x72','\x74\x61\x67\x43\x6f\u006e\x73\u0075\x6c\x74\u0061\x53\u0065\u006e\x68\u0061\u0053\u0065\u0072\u0076\u0069\u0063\x65',"sfContexto","sfNavegador",'\u006d\x6f\x64\x61\u006c','\u0061\u0070\u0070\x53\u0065\x74\x74\u0069\u006e\u0067\u0073'];function modalblockTokenMfaController($uibModalInstance,dados,interpretadorComunicacao,sfToken,$interval,sfLoader,tagConsultaSenhaService,sfContexto,sfNavegador,modal,appSettings){var vm=this;vm.dados=dados;vm.caminhoAssets=appSettings.configuracao.caminhoAssets.core;vm.acaoOK=function(dadosOK){$uibModalInstance.close(dadosOK);};vm.acaoCancelar=function(dadosCancelar){$uibModalInstance.dismiss(dadosCancelar);};vm.acaoclose=function(){$uibModalInstance.close();};vm.voltarInicio=function(){var estadoAtual=sfNavegador.obterEstadoAtual();if(estadoAtual.id === '\u006e\x6f\x76\x6f\x41\u0063\x65\x73\u0073\x6f\u004c\u006f\x67\u0069\x6e'){$uibModalInstance.close();}else {sfNavegador.iniciarFluxo("apl-mobile-pf-facelift-home");}};}})();(function(){"use strict";angular.module('\u006d\x66\u0061\x2d\u0073\x70\u0061\u002d\x63\u0068\x61\x6c\x6c\x65\x6e\x67\u0065\x73\u002e\x6a\x6f\x75\x72\u006e\u0065\x79\u0073').factory("modalDessincronizadoTokenMfa",modalDessincronizadoTokenMfa);modalDessincronizadoTokenMfa.$inject=['\x24\u0075\u0069\x62\x4d\x6f\u0064\x61\u006c','\u0073\u0066\u0043\x6f\x6e\x74\u0065\u0078\x74\x6f',"sfToken"];function modalDessincronizadoTokenMfa($uibModal,sfContexto,sfToken){return {'\x61\x62\x72\x69\x72\x4d\x6f\x64\x61\x6c':abrirModal};function abrirModal(titulo,mensagem,nomeTemplate,acaoOK,acaoCancelar,dados,controller,controllerAs,size,backdrop,windowTopClass,reject,templateUrl){templateUrl="./app/modulos/@CORE/mfa/views/dessincronizado-token.html";if(angular.isUndefined(nomeTemplate) || nomeTemplate == null || nomeTemplate == ""){nomeTemplate="modalMensagem";}if(angular.isUndefined(controller)){controller='\u006d\u006f\u0064\x61\u006c\x62\x6c\x6f\x63\u006b\u0054\x6f\x6b\u0065\x6e\u004d\x66\x61\x43\x6f\u006e\x74\u0072\x6f\x6c\x6c\u0065\x72';}if(angular.isUndefined(controllerAs)){controllerAs='\u0063\x74\u0072\x6c\u004d\u006f\x64\x61\x6c';}if(angular.isUndefined(dados)){dados=[];}if(titulo != undefined && titulo != null && titulo != ""){dados.titulo=titulo;}if(mensagem != undefined && mensagem != null && mensagem != ""){dados.mensagem=mensagem;}if(size == undefined || size == null || size == ""){size='\u0073\x6d';}if(angular.isUndefined(backdrop) || backdrop == null || backdrop === ""){backdrop="true";}if(angular.isUndefined(templateUrl) || templateUrl == null || templateUrl == ""){templateUrl='\u002e\x2f\x61\x70\u0070\x2f\x6d\u006f\x64\x75\u006c\u006f\x73\x2f\u0040\x43\x4f\x52\x45\x2f\u006d\x66\x61\u002f\u0076\u0069\u0065\u0077\u0073\x2f' + nomeTemplate + '\x2e\u0068\x74\u006d\u006c';}function executarModal(suprimirSenha){var suprimirModal=suprimirSenha;if(!suprimirModal){var instanciaModal=$uibModal.open({'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':templateUrl,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':controller,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':controllerAs,'\x62\x61\x63\x6b\x64\x72\x6f\x70':backdrop,'\x73\x69\x7a\x65':size,'\x77\x69\x6e\x64\x6f\x77\x54\x6f\x70\x43\x6c\x61\x73\x73':windowTopClass,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){return dados;}},'\x77\x69\x6e\x64\x6f\x77\x43\x6c\x61\x73\x73':'\u0062\x6f\u0074\u0074\u006f\u006d\x2d\x6d\u006f\x64\u0061\u006c\x2d\x61\x6e\x69\x6d\u0065'});instanciaModal.result.then(function(dadosRetornoModalOK){if(dadosRetornoModalOK == true){desbloquearToken();reject();}else {reject();}},function(){reject();});}else if(suprimirModal && (acaoOK || acaoCancelar)){;}return instanciaModal;}var instanciaModal=executarModal();instanciaModal.opened.then(function(){window['\x73\x66\u0043\u006f\x6d\u0070\x6f\u006e\u0065\u006e\u0074\x73'].sfPubSub.sub('\u0066\u0065\x63\x68\x61\u0072\u004d\x46\x41',instanciaModal.close,true);});}function desbloquearToken(dados){var body={'\x73\x75\x70\x6c\x69\x63\x61\x6e\x74\x65':{'\x66\x75\x6e\x63\x61\x6f':'\x41','\x69\x6e\x64\x4d\x6f\x62\x69\x6c\x65':"S",'\x74\x69\x70\x6f\x50\x65\x73\x73\x6f\x61':'\u0050\x46'}};sfToken.consulta.validarDispositivo(body).then(res=>{dados.serialNumber=res.data.serialNumberTokenMobile;desbloquearTokens(dados);});}function desbloquearTokens(dados){sfToken.mobile.manutencao({'\x6f\x70\x63\x61\x6f':4,'\x61\x67\x65\x6e\x63\x69\x61':dados.credenciais.agencia,'\x63\x6f\x6e\x74\x61':dados.credenciais.conta,'\x63\x6f\x64\x43\x6c\x69\x65\x6e\x74\x65':dados.credenciais.login.toString(),'\x64\x6e\x61\x4d\x61\x71\x75\x69\x6e\x61':dados && dados.credenciais && dados.credenciais.dnaMaquina?dados.credenciais.dnaMaquina.replace('\u007c',""):undefined,'\x74\x69\x70\x6f\x4f\x70\x65\x72\x61\x63\x61\x6f':'\u004e\x4f\u0056\x4f\u005f\x41\u0043\u0045\u0053\u0053\u004f\x5f\x44\x45\u0053\u0042\u004c\u004f\u0051\x55\u0045\u0049\x4f\x5f\x54\u004f\u004b\u0045\x4e','\x73\x65\x72\x69\x61\x6c\x4e\x75\x6d\x62\x65\x72':dados.serialNumber,'\x75\x73\x75\x61\x72\x69\x6f':dados.credenciais.login.toString(),'\x73\x65\x67\x6d\x65\x6e\x74\x6f':sfContexto.obterValorContextoTrabalho('\u0053\u0045\u0047\u004d\x45\u004e\x54\x41\x43\x41\u004f\u0047\u0045\u0052\u0045\x4e\u0054\u0045\u005f\x43\u004f\u004e\x54\u0041')},false,"",true);}}angular.module("mfa-spa-challenges.journeys").controller("modalblockTokenMfaController",modalblockTokenMfaController);modalblockTokenMfaController.$inject=['\u0024\u0075\x69\u0062\u004d\x6f\u0064\x61\u006c\x49\x6e\u0073\u0074\u0061\u006e\x63\x65',"dados",'\x61\x70\u0070\x53\x65\x74\u0074\x69\u006e\x67\x73'];function modalblockTokenMfaController($uibModalInstance,dados,appSettings){var vm=this;vm.dados=dados;vm.caminhoAssets=appSettings.configuracao.caminhoAssets.core;vm.acaoOK=function(dadosOK){$uibModalInstance.close(dadosOK);};vm.acaoCancelar=function(dadosCancelar){$uibModalInstance.dismiss(dadosCancelar);};vm.acaoclose=function(){$uibModalInstance.close();};}})();(function(){"use strict";angular.module('\x6d\u0066\x61\u002d\x73\x70\u0061\x2d\x63\u0068\x61\u006c\u006c\x65\u006e\x67\u0065\x73\x2e\u006a\x6f\x75\x72\x6e\x65\x79\x73').factory("modalErroTokenMfa",modalErroTokenMfa);modalErroTokenMfa.$inject=["$uibModal"];function modalErroTokenMfa($uibModal){return {'\x61\x62\x72\x69\x72\x4d\x6f\x64\x61\x6c':abrirModal};function abrirModal(titulo,mensagem,nomeTemplate,acaoOK,acaoCancelar,dados,controller,controllerAs,size,backdrop,windowTopClass,templateUrl,resolve,reject){templateUrl='\x2e\x2f\u0061\x70\x70\u002f\x6d\u006f\u0064\x75\x6c\u006f\x73\u002f\u0040\u0043\u004f\u0052\u0045\u002f\x6d\u0066\u0061\x2f\u0076\u0069\u0065\x77\u0073\x2f\u0065\u0072\x72\x6f\x2d\x74\u006f\x6b\x65\u006e\x2e\u0068\u0074\u006d\x6c';if(angular.isUndefined(nomeTemplate) || nomeTemplate == null || nomeTemplate == ""){nomeTemplate="modalMensagem";}if(angular.isUndefined(controller)){controller='\u006d\x6f\u0064\x61\u006c\u0062\u006c\u006f\u0063\u006b\x54\x6f\x6b\x65\x6e\u004d\x66\u0061\u0043\x6f\x6e\x74\x72\u006f\x6c\u006c\u0065\u0072';}if(angular.isUndefined(controllerAs)){controllerAs='\x63\u0074\x72\u006c\x4d\u006f\u0064\u0061\u006c';}if(angular.isUndefined(dados)){dados=[];}if(titulo != undefined && titulo != null && titulo != ""){dados.titulo=titulo;}if(mensagem != undefined && mensagem != null && mensagem != ""){dados.mensagem=mensagem;}if(size == undefined || size == null || size == ""){size="sm";}if(angular.isUndefined(backdrop) || backdrop == null || backdrop === ""){backdrop="true";}if(angular.isUndefined(templateUrl) || templateUrl == null || templateUrl == ""){templateUrl='\u002e\u002f\x61\u0070\x70\x2f\u006d\u006f\u0064\x75\x6c\u006f\x73\x2f\x40\u0043\x4f\x52\u0045\x2f\u006d\x66\u0061\x2f\x76\x69\u0065\x77\x73\u002f' + nomeTemplate + ".html";}function executarModal(suprimirSenha){var suprimirModal=suprimirSenha;if(!suprimirModal){var instanciaModal=$uibModal.open({'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':templateUrl,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':controller,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':controllerAs,'\x62\x61\x63\x6b\x64\x72\x6f\x70':backdrop,'\x73\x69\x7a\x65':size,'\x77\x69\x6e\x64\x6f\x77\x54\x6f\x70\x43\x6c\x61\x73\x73':windowTopClass,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){return dados;}},'\x77\x69\x6e\x64\x6f\x77\x43\x6c\x61\x73\x73':'\u0062\x6f\x74\u0074\u006f\x6d\x2d\x6d\u006f\x64\u0061\x6c\x2d\x61\u006e\u0069\u006d\u0065'});instanciaModal.result.then(function(dadosRetornoModalOK){if(dadosRetornoModalOK == true){resolve();}else {resolve();}},function(){reject();});}else if(suprimirModal && (acaoOK || acaoCancelar)){;}return instanciaModal;}var instanciaModal=executarModal();instanciaModal.opened.then(function(){window['\x73\x66\u0043\x6f\x6d\x70\u006f\x6e\u0065\x6e\u0074\x73'].sfPubSub.sub("fecharMFA",instanciaModal.close,true);});};}angular.module('\u006d\u0066\u0061\x2d\x73\x70\x61\x2d\u0063\u0068\x61\x6c\x6c\x65\u006e\u0067\u0065\u0073\u002e\u006a\u006f\x75\u0072\u006e\x65\x79\x73').controller("modalblockTokenMfaController",modalblockTokenMfaController);modalblockTokenMfaController.$inject=["$uibModalInstance","dados","$timeout",'\x24\u0073\x63\x6f\x70\x65'];function modalblockTokenMfaController($uibModalInstance,dados,$timeout,$scope){var vm=this;vm.tentarNovamente=false;vm.getDisabled=getDisabled;vm.dados=dados;vm.acaoOK=function(dadosOK){$uibModalInstance.close(dadosOK);};iniciar();function iniciar(){$timeout(function(){try{var el=document.querySelector('\x73\x66\x2d\x63\x2d\u0074\u0065\u006d\u0070\x6f\u0072\u0069\u007a\u0061\u0064\u006f\u0072\u002d\u0074\x6f\x6b\u0065\u006e');if(el){el.addEventListener("tokenAtivo",function(data){vm.tentarNovamente=true;$scope.$apply();});}}catch(error){console.log(error);}},1000);}function getDisabled(){return vm.tentarNovamente;}vm.acaoCancelar=function(dadosCancelar){$uibModalInstance.dismiss(dadosCancelar);};vm.acaoclose=function(){$uibModalInstance.close();};}})();(function(){"use strict";angular.module('\u006d\u0066\x61\x2d\u0073\x70\x61\x2d\x63\u0068\u0061\x6c\x6c\x65\x6e\u0067\u0065\x73\u002e\u006a\x6f\x75\u0072\x6e\x65\x79\u0073').factory("modalSenhaMfa",modalSenhaMfa);modalSenhaMfa.$inject=['\x24\x75\x69\u0062\u004d\u006f\u0064\u0061\u006c',"corContainerFactory","sfContexto",'\x24\u0072\x6f\u006f\x74\u0053\u0063\x6f\x70\x65'];function modalSenhaMfa($uibModal,corContainerFactory,sfContexto,$rootScope){var modalRetry;$rootScope.$on("eventoRetryMfaSenha",function({'\x72\x65\x73\x6f\x6c\x76\x65':resolve, '\x72\x65\x6a\x65\x63\x74':reject, '\x64\x61\x74\x61':data}){modalRetry=true;});return {'\x61\x62\x72\x69\x72\x4d\x6f\x64\x61\x6c':abrirModal};function abrirModal(titulo,mensagem,nomeTemplate,acaoOK,acaoCancelar,dados,controller,controllerAs,size,backdrop,windowTopClass,templateUrl,resolve,reject,data){if(templateUrl == "senha"){templateUrl='\x2e\u002f\u0061\u0070\x70\u002f\u006d\x6f\x64\u0075\x6c\x6f\u0073\u002f\x40\x43\u004f\u0052\u0045\u002f\u006d\u0066\u0061\u002f\u0076\u0069\x65\x77\x73\x2f\x70\x61\u0073\u0073\x77\u006f\x72\u0064\x2e\x68\x74\u006d\x6c';}if(templateUrl == '\u0072\u0065\x74\u0072\u0079'){templateUrl='\u002e\x2f\u0061\u0070\x70\u002f\u006d\x6f\x64\x75\u006c\x6f\u0073\x2f\u0040\u0043\x4f\x52\u0045\u002f\x6d\x66\x61\x2f\x76\x69\u0065\u0077\x73\u002f\x72\x65\u0074\u0072\u0079\x2e\u0068\x74\u006d\u006c';}if(templateUrl == '\x74\x6f\x6b\u0065\x6e'){templateUrl="./app/modulos/@CORE/mfa/views/token.html";}if(angular.isUndefined(nomeTemplate) || nomeTemplate == null || nomeTemplate == ""){nomeTemplate='\x6d\x6f\x64\x61\x6c\u004d\x65\u006e\x73\u0061\u0067\x65\u006d';}if(angular.isUndefined(controller)){controller='\x6d\x6f\u0064\u0061\u006c\x53\u0065\u006e\u0068\u0061\x4d\x66\u0061\x43\u006f\u006e\u0074\x72\u006f\x6c\u006c\u0065\x72';}if(angular.isUndefined(controllerAs)){controllerAs='\u0063\x74\u0072\x6c\u004d\x6f\u0064\x61\x6c';}if(angular.isUndefined(dados)){dados=[];}if(titulo != undefined && titulo != null && titulo != ""){dados.titulo=titulo;}if(mensagem != undefined && mensagem != null && mensagem != ""){dados.mensagem=mensagem;}if(size == undefined || size == null || size == ""){size="sm";}if(angular.isUndefined(backdrop) || backdrop == null || backdrop === ""){backdrop="true";}if(angular.isUndefined(templateUrl) || templateUrl == null || templateUrl == ""){templateUrl="./app/modulos/@CORE/mfa/views/" + nomeTemplate + ".html";}function executarModal(suprimirSenha){var suprimirModal=suprimirSenha;if(!suprimirModal){var instanciaModal=$uibModal.open({'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':templateUrl,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':controller,'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':controllerAs,'\x62\x61\x63\x6b\x64\x72\x6f\x70':backdrop,'\x73\x69\x7a\x65':size,'\x77\x69\x6e\x64\x6f\x77\x54\x6f\x70\x43\x6c\x61\x73\x73':windowTopClass,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){dados.retry=modalRetry;modalRetry=undefined;return dados;}},'\x77\x69\x6e\x64\x6f\x77\x43\x6c\x61\x73\x73':'\u0062\u006f\x74\u0074\x6f\u006d\u002d\x6d\x6f\x64\x61\u006c\x2d\x61\x6e\u0069\x6d\u0065'});instanciaModal.result.then(function(dadosRetornoModalOK){modalSenhaMfaController.defineCorFooter;resolve({'\x73\x65\x6e\x68\x61':dadosRetornoModalOK});},function(){reject();});}else if(suprimirModal && (acaoOK || acaoCancelar)){;}return instanciaModal;}var instanciaModal=executarModal();instanciaModal.opened.then(function(){window["sfComponents"].sfPubSub.sub('\x66\x65\x63\u0068\u0061\x72\u004d\x46\x41',instanciaModal.close,true);corContainerFactory.corFooter({'\x63\x6f\x6c\x6f\x72':'\u0023\u0046\x46\u0046\u0046\u0046\x46','\x69\x73\x48\x69\x67\x68\x4c\x69\x67\x68\x74':false});});instanciaModal.closed.then(function(){var segment;segment=sfContexto.obterValorContextoTrabalho('\u0053\u0045\u0047\x4d\u0045\u004e\x54\u0041\u0043\x41\u004f\x47\u0045\x52\u0045\u004e\x54\u0045\u005f\x43\x4f\x4e\x54\x41');if(segment === 4 || segment === 13 || segment === 15){corContainerFactory.corFooter({'\x63\x6f\x6c\x6f\x72':"#000000",'\x69\x73\x48\x69\x67\x68\x4c\x69\x67\x68\x74':false});}else {corContainerFactory.corFooter({'\x63\x6f\x6c\x6f\x72':"#00003C",'\x69\x73\x48\x69\x67\x68\x4c\x69\x67\x68\x74':false});}});}}angular.module('\u006d\u0066\u0061\u002d\u0073\u0070\u0061\x2d\u0063\u0068\u0061\x6c\u006c\x65\x6e\x67\x65\x73\u002e\u006a\x6f\u0075\u0072\u006e\u0065\u0079\x73').controller('\u006d\u006f\x64\x61\x6c\x53\x65\x6e\x68\x61\x4d\u0066\x61\x43\u006f\x6e\x74\x72\x6f\u006c\x6c\u0065\x72',modalSenhaMfaController);modalSenhaMfaController.$inject=['\u0024\x75\u0069\u0062\u004d\u006f\x64\u0061\x6c\x49\x6e\x73\u0074\x61\x6e\u0063\x65','\x64\u0061\x64\u006f\x73',"$rootScope"];function modalSenhaMfaController($uibModalInstance,dados,$rootScope){var vm=this;vm.dados=dados;vm.acaoOK=function(dadosOK){$uibModalInstance.close(dadosOK);};vm.acaoCancelar=function(dadosCancelar){$uibModalInstance.dismiss(dadosCancelar);};vm.acaoclose=function(){$uibModalInstance.close();};}})();(function(){"use strict";angular.module('\x6d\x66\u0061\u002d\u0073\u0070\x61\x2d\u0063\x68\u0061\u006c\u006c\x65\x6e\u0067\u0065\u0073\x2e\u006a\u006f\x75\x72\u006e\x65\x79\x73').service('\x6d\x66\u0061\u0052\x65\x74\u0072\u0079',mfaRetry);mfaRetry.$inject=["modalSenhaMfa","modalBiometriaInvalida","modalErroTokenMfa","modalDessincronizadoTokenMfa",'\x24\x72\x6f\x6f\x74\u0053\u0063\u006f\u0070\x65',"dynatrace","sfLoader"];function mfaRetry(modalSenhaMfa,modalBiometriaInvalida,modalErroTokenMfa,modalDessincronizadoTokenMfa,$rootScope,dynatrace,sfLoader){return {'\x64\x69\x73\x6d\x69\x73\x73\x4c\x6f\x61\x64\x65\x72':dismissLoader,'\x69\x6e\x69\x74':init};function init(resolve,reject,data){var isMfa=isNovoAcesso(data);if(angular.isDefined(data) && angular.isDefined(data.listaDesafios) && data.listaDesafios.length === 1){if(data.listaDesafios[0] == "senha"){if(isMfa){window["sfComponents"].sfPubSub.pub("adicionarDesafioRetry",{'\x72\x65\x73\x6f\x6c\x76\x65':_resolve,'\x72\x65\x6a\x65\x63\x74':reject,'\x64\x65\x73\x61\x66\x69\x6f':"senha-transacional"});}else {$rootScope.$broadcast('\u0065\x76\u0065\x6e\u0074\u006f\x52\x65\x74\u0072\x79\x4d\x66\x61\u0053\x65\u006e\u0068\x61');_resolve();}}else if(data.listaDesafios[0] == "token"){modalErroTokenMfa.abrirModal(undefined,undefined,"password",undefined,undefined,undefined,undefined,'\u006d\x73\x74\x43\x74\u0072\u006c','\u0063\u0065\x6e\u0074\x65\u0072\u002d\u006d\u006f\u0064\x61\x6c',undefined,"modal-gaveta",'\u0065\x72\x72\x6f\x2d\x74\u006f\x6b\u0065\u006e',_resolve,_reject,data);}else if(data.listaDesafios[0] == "sms"){window['\x73\u0066\x43\x6f\x6d\u0070\x6f\u006e\u0065\u006e\x74\u0073'].sfPubSub.pub('\x61\x64\x69\x63\x69\u006f\u006e\x61\x72\u0044\x65\u0073\x61\x66\x69\u006f\x52\x65\u0074\x72\u0079',{'\x72\x65\x73\x6f\x6c\x76\x65':_resolve,'\x72\x65\x6a\x65\x63\x74':reject,'\x64\x65\x73\x61\x66\x69\x6f':"sms-voz"});}else if(data.listaDesafios[0] == "email"){window["sfComponents"].sfPubSub.pub("adicionarDesafioRetry",{'\x72\x65\x73\x6f\x6c\x76\x65':_resolve,'\x72\x65\x6a\x65\x63\x74':reject,'\x64\x65\x73\x61\x66\x69\x6f':'\x65\x6d\u0061\x69\u006c'});}else if(data.listaDesafios[0] == '\x6b\u0062\x61'){window["sfComponents"].sfPubSub.pub("adicionarDesafioRetry",{'\x72\x65\x73\x6f\x6c\x76\x65':_resolve,'\x72\x65\x6a\x65\x63\x74':reject,'\x64\x65\x73\x61\x66\x69\x6f':"kba"});}else if(data.listaDesafios[0] == '\u0066\u0061\u0063\u0065\x6d\x61\u0074\x63\u0068'){modalBiometriaInvalida.abrirModal(undefined,undefined,'\u0070\x61\x73\x73\u0077\u006f\x72\x64',undefined,undefined,undefined,undefined,'\u006d\u0073\x74\x43\x74\u0072\x6c','\u0063\x65\u006e\x74\u0065\x72\u002d\x6d\u006f\x64\x61\x6c',undefined,'\x6d\u006f\u0064\u0061\u006c\x2d\x67\x61\u0076\u0065\x74\x61','\u0062\u0069\u006f\x6d\u0065\u0074\u0072\x69\x61\x2d\u0062\u006c\u006f\u0071\u0075\x65\u0061\x64\x61',_resolve,_reject,data);}}else {modalSenhaMfa.abrirModal(undefined,undefined,"password",undefined,undefined,undefined,undefined,"mstCtrl",'\u0063\u0065\u006e\u0074\u0065\x72\u002d\u006d\x6f\u0064\x61\x6c',undefined,"modal-gaveta","retry",_resolve,_reject,data);}function _resolve(dados){dynatrace.finalizarAcaoTemporizada('\x6d\u0066\x61\u002d\u0072\u0065\x74\u0072\u0079',true);if(typeof resolve === "function"){resolve(dados);}}function _reject(dados){dynatrace.finalizarAcaoTemporizada('\u006d\x66\x61\u002d\x72\u0065\u0074\u0072\x79',false);if(typeof reject === '\x66\x75\u006e\u0063\x74\u0069\x6f\u006e'){reject(dados);}}function isNovoAcesso(data){return angular.isDefined(data) && angular.isDefined(data.configRequest) && angular.isDefined(data.configRequest.data) && angular.isDefined(data.configRequest.data.isMFA) && data.configRequest.data.isMFA === true;}}function dismissLoader(){try{sfLoader.esconderLoader("load");}catch(e){console.log(e);}}}})();(function(){"use strict";angular.module('\x6d\x66\x61\u002d\x73\x70\u0061\u002d\u0063\x68\u0061\x6c\x6c\x65\u006e\x67\x65\x73\u002e\x6a\u006f\u0075\x72\u006e\x65\x79\u0073').service('\u006d\x66\u0061\u0053\x65\u006e\x68\x61',mfaSenha);mfaSenha.$inject=["modalSenhaMfa",'\x24\u0074\x69\x6d\u0065\u006f\x75\x74',"dynatrace","$rootScope",'\u0063\u0068\x61\x74\x4d\x6f\x64\u0061\x6c','\x73\u0066\x43\x6f\x6e\u0074\x65\u0078\x74\u006f','\u006a\u006f\u0072\x6e\u0061\x64\x61\u0073\u004e\x6f\u0076\x6f\x41\x63\u0065\x73\x73\x6f\u0043\x6f\u006e\u0073\u0074\u0061\u006e\x74\u0073',"sfLoader","appSettings"];function mfaSenha(modalSenhaMfa,$timeout,dynatrace,$rootScope,chatModal,sfContexto,jornadasNovoAcessoConstants,sfLoader,appSettings){return {'\x64\x69\x73\x6d\x69\x73\x73\x4c\x6f\x61\x64\x65\x72':dismissLoader,'\x69\x6e\x69\x74':init};function init(resolve,reject,data){if(isNovoAcesso(data)){if(document.querySelector("sf-c-chat-body-mfa") !== null){window["sfComponents"].sfPubSub.pub('\x61\x64\u0069\x63\u0069\u006f\u006e\x61\x72\x44\x65\u0073\x61\u0066\x69\u006f',{'\x72\x65\x73\x6f\x6c\x76\x65':resolve,'\x72\x65\x6a\x65\x63\x74':reject,'\x64\x65\x73\x61\x66\x69\x6f':'\x73\u0065\x6e\u0068\u0061\u002d\x74\x72\u0061\u006e\x73\x61\x63\x69\x6f\u006e\u0061\x6c'});}else {abrirChatDesafio(data.configRequest);window['\x73\x66\u0043\u006f\x6d\u0070\x6f\x6e\u0065\u006e\x74\x73'].sfPubSub.sub("devolveDesafio",function(){enviarDesafio(_resolve,_reject);},true);}}else {modalSenhaMfa.abrirModal(undefined,undefined,"password",undefined,undefined,undefined,undefined,'\x6d\x73\u0074\u0043\x74\x72\x6c','\u0063\x65\u006e\u0074\u0065\x72\x2d\u006d\u006f\x64\x61\u006c',undefined,"modal-gaveta","senha",_resolve,_reject,data);}this.caminhoAssets=appSettings.configuracao.caminhoAssets.core;function _resolve(dados){dynatrace.finalizarAcaoTemporizada('\u006d\x66\u0061\x2d\u0073\u0065\x6e\u0068\x61',true);if(typeof resolve === '\x66\u0075\x6e\u0063\x74\x69\u006f\u006e'){resolve(dados);}}function _reject(dados){dynatrace.finalizarAcaoTemporizada("mfa-senha",false);if(typeof reject === "function"){reject(dados);}}function enviarDesafio(_resolve,_reject){window["sfComponents"].sfPubSub.pub("adicionarDesafio",{'\x72\x65\x73\x6f\x6c\x76\x65':_resolve,'\x72\x65\x6a\x65\x63\x74':_reject,'\x64\x65\x73\x61\x66\x69\x6f':'\u0073\u0065\x6e\u0068\u0061\u002d\u0074\u0072\x61\u006e\x73\u0061\u0063\u0069\x6f\x6e\u0061\x6c'});}function abrirChatDesafio(configRequest){chatModal.exibirModal({'\x66\x6c\x75\x78\x6f':definirJornada(configRequest),'\x70\x61\x79\x6c\x6f\x61\x64':{'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho("AGENCIA_COMUNICACAO"),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho("CONTA_CORRENTE"),'\x69\x64\x43\x6c\x69\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE")},'\x64\x65\x73\x61\x66\x69\x6f':'\u0073\u0065\u006e\u0068\x61\x2d\u0074\u0072\u0061\u006e\x73\u0061\x63\u0069\x6f\x6e\x61\u006c'},definirFluxo(configRequest));}function definirFluxo(configRequest){var url=configRequest.url.split("/");url=url[url.length - 1];return jornadasNovoAcessoConstants[url].jornada;}function definirJornada(configRequest){var url=configRequest.url.split("/");url=url[url.length - 1];return jornadasNovoAcessoConstants[url].fluxo;}function isNovoAcesso(data){return angular.isDefined(data) && angular.isDefined(data.configRequest) && angular.isDefined(data.configRequest.data) && angular.isDefined(data.configRequest.data.isMFA) && data.configRequest.data.isMFA === true;}}function dismissLoader(){try{sfLoader.esconderLoader('\u006c\u006f\x61\u0064');}catch(e){console.log(e);}}}})();(function(){"use strict";angular.module("mfa-spa-challenges.journeys").service('\u006d\x66\u0061\u0053\x6d\u0073',mfaSms);mfaSms.$inject=['\x64\x79\u006e\u0061\x74\u0072\u0061\u0063\x65',"chatModal",'\x73\u0066\u0043\x6f\u006e\x74\u0065\u0078\x74\u006f',"jornadasNovoAcessoConstants"];function mfaSms(dynatrace,chatModal,sfContexto,jornadasNovoAcessoConstants){return {'\x64\x69\x73\x6d\x69\x73\x73\x4c\x6f\x61\x64\x65\x72':dismissLoader,'\x69\x6e\x69\x74':init};function init(resolve,reject,data){if(document.querySelector('\x73\u0066\u002d\u0063\u002d\u0063\x68\u0061\u0074\u002d\u0062\x6f\u0064\x79\u002d\x6d\x66\x61') !== null){window['\u0073\u0066\u0043\x6f\u006d\u0070\x6f\u006e\x65\x6e\u0074\u0073'].sfPubSub.pub("adicionarDesafio",{'\x72\x65\x73\x6f\x6c\x76\x65':resolve,'\x72\x65\x6a\x65\x63\x74':reject,'\x64\x65\x73\x61\x66\x69\x6f':"sms-voz"});}else {abrirChatDesafio(data.configRequest);window['\u0073\x66\u0043\u006f\x6d\u0070\x6f\x6e\x65\x6e\x74\u0073'].sfPubSub.sub('\u0064\x65\x76\u006f\x6c\u0076\x65\u0044\u0065\u0073\x61\x66\x69\x6f',function(){enviarDesafio(_resolve,_reject);},true);}function _resolve(dados){dynatrace.finalizarAcaoTemporizada("mfa-sms",true);if(typeof resolve === "function"){resolve(dados);}}function _reject(dados){dynatrace.finalizarAcaoTemporizada('\u006d\x66\x61\x2d\x73\u006d\u0073',false);if(typeof reject === '\u0066\u0075\x6e\u0063\u0074\u0069\u006f\x6e'){reject(dados);}}function enviarDesafio(_resolve,_reject){window['\u0073\u0066\u0043\x6f\u006d\x70\x6f\u006e\u0065\x6e\u0074\u0073'].sfPubSub.pub("adicionarDesafio",{'\x72\x65\x73\x6f\x6c\x76\x65':_resolve,'\x72\x65\x6a\x65\x63\x74':_reject,'\x64\x65\x73\x61\x66\x69\x6f':"sms-voz"});}function abrirChatDesafio(configRequest){chatModal.exibirModal({'\x66\x6c\x75\x78\x6f':definirJornada(configRequest),'\x70\x61\x79\x6c\x6f\x61\x64':{'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho('\u0041\x47\u0045\u004e\x43\u0049\u0041\u005f\u0043\x4f\x4d\x55\x4e\u0049\x43\x41\u0043\u0041\u004f'),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho("CONTA_CORRENTE"),'\x69\x64\x43\x6c\x69\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho('\x43\x4f\x44\x49\u0047\x4f\x5f\u0043\u004c\u0049\u0045\x4e\u0054\u0045')},'\x64\x65\x73\x61\x66\x69\x6f':"sms-voz"},definirFluxo(configRequest));}function definirFluxo(configRequest){var url=configRequest.url.split("/");url=url[url.length - 1];return jornadasNovoAcessoConstants[url].jornada;}function definirJornada(configRequest){var url=configRequest.url.split('\u002f');url=url[url.length - 1];return jornadasNovoAcessoConstants[url].fluxo;}}function dismissLoader(){}}})();(function(){"use strict";angular.module('\x6d\u0066\x61\u002d\x73\u0070\u0061\x2d\x63\u0068\u0061\x6c\u006c\x65\u006e\x67\u0065\u0073\x2e\u006a\u006f\u0075\u0072\u006e\u0065\u0079\u0073').service('\u006d\u0066\x61\u0054\x6f\u006b\u0065\u006e',mfaToken);mfaToken.$inject=['\x6f\x62\x74\x65\x72\u0044\x61\x64\u006f\x73\u0054\u006f\x6b\x65\u006e','\u0064\x79\x6e\x61\x74\x72\u0061\x63\x65'];function mfaToken(obterDadosToken,dynatrace){return {'\x64\x69\x73\x6d\x69\x73\x73\x4c\x6f\x61\x64\x65\x72':dismissLoader,'\x69\x6e\x69\x74':init};function init(resolve,reject,data){obterDadosToken.montarBodyToken().then(function(response){dynatrace.finalizarAcaoTemporizada('\x6d\u0066\u0061\x2d\u0074\u006f\x6b\u0065\x6e',true);resolve(response);}).catch(function(erro){dynatrace.finalizarAcaoTemporizada("mfa-token",false);reject(erro);});}function dismissLoader(){console.log('\x74\u0065\u0073\x74\x65');}}})();(function(){"use strict";angular.module("mfa-spa-challenges.journeys").factory('\x6f\x62\u0074\x65\x72\u0044\u0061\u0064\u006f\u0073\x54\x6f\x6b\x65\u006e',obterDadosToken);obterDadosToken.$inject=['\u0024\x71','\u0073\u0066\u0043\x6f\u006e\x74\u0065\u0078\u0074\u006f',"sfToken","$interval"];function obterDadosToken($q,sfContexto,sfToken,$interval){var tamanhoSerialToken='\x30\u0030\x30\x30\u0030\u0030\u0030\u0030\x30\u0030\u0030\x30\x30';var deferred,dadosToken;return {'\x6d\x6f\x6e\x74\x61\x72\x42\x6f\x64\x79\x54\x6f\x6b\x65\x6e':montarBodyToken};function obterDadosToken(){deferred=$q.defer();var param={'\x6c\x6f\x67\x69\x6e':sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE"),'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho("AGENCIA_COMUNICACAO"),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho('\u0043\u004f\x4e\x54\u0041\u005f\u0043\x4f\u0052\x52\u0045\x4e\x54\u0045'),'\x73\x75\x70\x6c\x69\x63\x61\x6e\x74\x65':{'\x66\x75\x6e\x63\x61\x6f':"A",'\x69\x6e\x64\x4d\x6f\x62\x69\x6c\x65':'\x53','\x74\x69\x70\x6f\x50\x65\x73\x73\x6f\x61':'\x50\x46'}};sfToken.consulta.validarDispositivo(param).then(res=>{dadosToken={'\x73\x75\x70\x6c\x69\x63\x61\x6e\x74\x65':res.data};dadosToken.tokenSerial=res.data.serialNumberTokenMobile;dadosToken.tipoToken=res.data.statusChavesToken;sfToken.obterSequencia().then(obterSequenciaSucesso).catch(res=>{deferred.reject(res);});}).catch(res=>{deferred.reject(res);});return deferred.promise;}function obterSequenciaSucesso(res){if(res.data.sucesso){if(Number(res.data.serial) === Number(dadosToken.suplicante.serialNumberTokenMobile)){dadosToken.possuiTokenInstalado=true;dadosToken.tokenInstalado=true;sucessoObterSequencia(res);}else {deferred.resolve(dadosToken);}}}function sucessoObterSequencia(res){dadosToken.token=res.data;if(dadosToken.token.sucesso === true){dadosToken.token.serial=tamanhoSerialToken.substring(0,tamanhoSerialToken.length - dadosToken.token.serial.length) + dadosToken.token.serial;if(dadosToken.token.tempoAteExpiracao > 0){dadosToken.tempoExpiracaoToken=dadosToken.token.tempoAteExpiracao * 1000 + 2000;dadosToken.progresso=0;dadosToken.tokenAtivado=true;dadosToken.tokenSequencia=dadosToken.token.sequencia;dadosToken.tokenSerial=dadosToken.token.serial;deferred.resolve(dadosToken);}else {obtemSequenciaToken();}}}function obtemSequenciaToken(){sfToken.obterSequencia(false).then(sucessoObterSequencia).catch(res=>{deferred.reject(res);});}function montarBodyToken(){var deferredToken=$q.defer();obterDadosToken().then(function(){var otp={'\x6f\x74\x70':{'\x74\x6f\x6b\x65\x6e':{'\x70\x61\x73\x73\x63\x6f\x64\x65':dadosToken.tokenSequencia?dadosToken.tokenSequencia:"",'\x63\x6f\x64\x69\x67\x6f\x4e\x65\x78\x74\x54\x6f\x6b\x65\x6e':"",'\x73\x65\x72\x69\x61\x6c\x4e\x75\x6d\x62\x65\x72':dadosToken.tokenSerial,'\x6e\x69\x76\x65\x6c':"",'\x74\x69\x70\x6f\x54\x6f\x6b\x65\x6e':dadosToken.tipoToken},'\x69\x64\x65\x6e\x74\x69\x66\x69\x63\x61\x63\x61\x6f':{'\x63\x6f\x64\x43\x6c\x69\x65\x6e\x74\x65':Number(sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE")),'\x75\x73\x65\x72\x49\x64':Number(sfContexto.obterValorContextoTrabalho('\u0043\x4f\u0044\u0049\u0047\u004f\x5f\x43\x4c\u0049\u0045\x4e\u0054\x45')),'\x6c\x6f\x67\x69\x6e':sfContexto.obterValorContextoTrabalho('\x43\x4f\u0044\u0049\x47\u004f\x5f\x43\x4c\x49\u0045\x4e\u0054\x45').toString(),'\x74\x69\x70\x6f\x50\x65\x73\x73\x6f\x61':"PF",'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho("AGENCIA_COMUNICACAO"),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho('\u0043\x4f\u004e\x54\x41\u005f\u0043\x4f\x52\u0052\x45\u004e\x54\x45')},'\x73\x75\x70\x6c\x69\x63\x61\x6e\x74\x65':dadosToken.suplicante,'\x74\x69\x70\x6f\x44\x65\x76\x69\x63\x65':"1",'\x64\x65\x76\x69\x63\x65':"DES-APL-PJ"}};deferredToken.resolve(otp);}).catch(function(res){deferredToken.reject(res);});return deferredToken.promise;}}})();