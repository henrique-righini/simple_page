v7bgi[2299]=(function(){var E=2;for(;E !== 9;){switch(E){case 2:E=typeof globalThis === '\x6f\x62\u006a\x65\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var d;try{var H=2;for(;H !== 6;){switch(H){case 2:Object['\x64\u0065\u0066\u0069\x6e\u0065\x50\u0072\u006f\u0070\u0065\u0072\x74\x79'](Object['\u0070\x72\x6f\x74\x6f\u0074\x79\u0070\x65'],'\x42\u0033\x72\x53\x54',{'\x67\x65\x74':function(){var s=2;for(;s !== 1;){switch(s){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});d=B3rST;d['\u0049\x57\x6c\x35\x4a']=d;H=4;break;case 4:H=typeof IWl5J === '\u0075\u006e\u0064\x65\x66\x69\u006e\u0065\u0064'?3:9;break;case 9:delete d['\x49\x57\x6c\u0035\x4a'];var B=Object['\u0070\u0072\x6f\u0074\u006f\u0074\x79\x70\x65'];delete B['\u0042\x33\x72\x53\x54'];H=6;break;case 3:throw "";H=9;break;}}}catch(T){d=window;}return d;break;}}})();function v7bgi(){}v7bgi[193838]=false;v7bgi[132173]=false;v7bgi[72672]="RYZ";v7bgi[607104]=true;v7bgi[553226]="_yV";v7bgi[241385]="ua4";v7bgi[138500]="aAP";v7bgi[2299].P8BB=v7bgi;v7bgi[21377]="wkz";v7bgi[528201]="DQh";(function(){angular.module('\u0061\u0072\x71\u002d\u0062\x61\u0073\u0065\u002d\u0063\u0061\u006e\x61\x69\u0073',['\x75\x69\u002e\u0062\x6f\u006f\u0074\x73\u0074\u0072\u0061\u0070','\x61\u0072\x71\u002d\u0073\u0070\u0061\x2d\u0062\u0061\x73\x65']).config(arqBaseSpaModule).run(function($templateCache){window.sftin=new Date().valueOf();$templateCache.put('\x2e\x2f\x61\u0070\x70\x2f\x6d\x6f\u0064\u0075\x6c\u006f\u0073\x2f\u0040\x43\x4f\u004d\u0055\u004d\x2f\x63\u006f\u006d\u0075\u006d\u002d\x6d\x6f\u0064\u0075\u006c\u0061\u0072\x69\x7a\x61\u0064\u006f\x2f\u0074\u0065\x6d\x70\x6c\x61\u0074\x65\x73\u002f\u006d\x6f\u0064\u0061\u006c\u002f\u006d\x6f\u0064\u0061\u006c\u0041\u0076\u0069\u0073\u006f\u002e\x68\u0074\u006d\x6c','\u003c\x64\u0069\u0076\u0020\x65\x78\u0069\x62\x65\x2d\x53\u0065\u0073\u0073\x69\x6f\u006e\x2d\u0049\x64\x3e\u003c\x64\x69\x76\u0020\u0063\u006c\u0061\x73\x73\x3d\x22\u006d\x6f\x64\x61\x6c\u002d\x68\x65\u0061\u0064\u0065\u0072\x22\x3e\u003c\u0062\x75\u0074\u0074\x6f\x6e\u0020\x74\x79\x70\u0065\u003d\u0022\u0062\u0075\x74\x74\x6f\x6e\x22\u0020\u0063\u006c\x61\u0073\u0073\x3d\x22\x63\x6c\x6f\u0073\x65\x22\x20\u0064\x61\u0074\x61\u002d\x64\x69\u0073\u006d\u0069\u0073\u0073\u003d\x22\x6d\u006f\u0064\x61\u006c\u0022\x20\u0061\u0072\u0069\x61\u002d\x6c\x61\u0062\x65\x6c\u003d\u0022\u0043\u006c\u006f\u0073\x65\u0022\x20\u006e\x67\x2d\u0063\u006c\u0069\x63\x6b\u003d\u0022\u006d\x43\u0074\u0072\u006c\x2e\x61\x63\u0061\x6f\u004f\u004b\u0028\u0029\u0022\x3e\x20\u003c\x73\u0070\u0061\u006e\x20\u0061\u0072\x65\u0061\x2d\x68\x69\x64\x64\x65\u006e\u003d\x22\x74\x72\x75\u0065\u0022\x3e\u0026\x74\u0069\x6d\u0065\x73\u003b\u003c\x2f\x73\u0070\u0061\u006e\u003e\u0020\u003c\x2f\x62\u0075\u0074\u0074\u006f\x6e\u003e\u003c\x2f\u0064\u0069\u0076\u003e\u003c\u0064\u0069\x76\u0020\u0063\x6c\x61\x73\u0073\u003d\x22\x63\x6f\u006e\x74\u0061\u0069\x6e\x65\x72\x22\u003e\x3c\u0064\u0069\u0076\x20\u0063\u006c\u0061\x73\u0073\u003d\x22\x72\x6f\u0077\x22\u003e\u003c\u0064\u0069\u0076\x20\x63\u006c\x61\x73\x73\u003d\u0022\x63\x6f\u006c\x2d\x78\x73\x2d\u0031\u0032\x20\u0074\x65\x78\x74\u002d\x63\x65\x6e\x74\u0065\u0072\u0020\x74\x65\x78\u0074\x2d\u006d\u0075\u0074\u0065\u0064\u0022\x3e\u003c\u0068\x32\u0020\u006e\u0067\x2d\u0062\u0069\x6e\u0064\u003d\u0022\u006d\x43\x74\u0072\u006c\x2e\x74\u0069\u0074\u0075\u006c\u006f\u0022\x3e\u003c\u002f\u0068\x32\u003e\u003c\x2f\u0064\u0069\u0076\u003e\u003c\x2f\x64\u0069\x76\x3e\u003c\x64\x69\x76\x20\u0063\x6c\x61\u0073\x73\x3d\x22\u0072\u006f\x77\u0022\u003e\u003c\u0064\u0069\u0076\u0020\u0063\x6c\x61\u0073\u0073\x3d\x22\u0063\x6f\u006c\x2d\u0078\x73\x2d\x31\u0032\x20\u0074\x65\x78\u0074\x2d\u0063\u0065\u006e\x74\x65\u0072\u0020\x74\x65\u0078\u0074\x2d\u006d\x75\u0074\u0065\u0064\x22\x3e\u003c\x70\x20\u006e\u0067\x2d\u0062\u0069\x6e\u0064\x2d\u0068\u0074\u006d\x6c\u003d\x22\u006d\u0043\x74\x72\u006c\u002e\x6d\x65\x6e\u0073\u0061\u0067\x65\u006d\u0022\u003e\x3c\x2f\x70\u003e\u003c\x2f\u0064\x69\x76\u003e\u003c\u002f\u0064\u0069\u0076\u003e\u003c\x2f\u0064\x69\x76\x3e\u003c\x64\u0069\x76\u0020\u0063\x6c\x61\x73\u0073\x3d\u0022\x6d\x6f\u0064\u0061\u006c\u002d\u0066\x6f\x6f\u0074\x65\x72\x20\u0074\u0065\u0078\x74\x2d\u0072\u0069\u0067\u0068\x74\x20\u0074\u0065\x78\u0074\u002d\x6d\u0075\x74\x65\x64\u0022\u003e\u003c\u0061\u0020\u0063\x6c\x61\x73\u0073\u003d\x22\x62\u0074\u006e\x2d\u006d\x6f\u0064\u0061\x6c\u0020\x74\u0065\u0078\x74\x2d\x6d\u0075\x74\x65\x64\u0022\u0020\u006e\u0067\x2d\x63\x6c\x69\x63\x6b\x3d\u0022\x6d\x43\x74\x72\x6c\u002e\x61\x63\x61\x6f\u004f\u004b\u0028\u0027\x66\x65\u0063\u0068\u0061\u0072\u0054\x61\x67\u0031\x27\u0029\x22\u0020\x73\x66\x2d\x74\x72\x61\x64\u0075\x63\x61\u006f\u003d\u0022\x40\x66\x65\u0063\x68\x61\u0072\u0022\u003e\x3c\x2f\x61\x3e\u003c\u002f\u0064\u0069\u0076\u003e\x3c\x2f\x64\u0069\u0076\x3e');;});arqBaseSpaModule.$inject=['\u0024\u0068\u0074\u0074\u0070\u0050\u0072\u006f\x76\x69\x64\x65\u0072'];function arqBaseSpaModule($httpProvider){$httpProvider.interceptors.push("errosConexaoInterceptor");$httpProvider.interceptors.unshift('\x72\x65\x71\x75\u0065\x73\x74\u0043\u006f\x6e\x65\u0078\u0061\x6f\x49\u006e\x74\u0065\u0072\x63\u0065\u0070\u0074\x6f\x72');$httpProvider.interceptors.push("logXhrInterceptor");}})();(function(){angular.module("arq-base-canais").factory('\u0065\u0072\x72\u006f\x73\x43\u006f\x6e\x65\u0078\x61\x6f\x49\x6e\u0074\u0065\u0072\x63\u0065\x70\u0074\u006f\u0072',errosConexaoInterceptor);errosConexaoInterceptor.$inject=['\x24\x71','\u0065\x72\x72\u006f\x73\u0046\x61\u0063\x74\u006f\u0072\x79','\x73\x66\x55\u0074\x69\x6c\u0069\u0074\u0061\x72\x69\u006f\u0073','\u0073\u0066\u0043\u0072\u0069\u0070\x74\u006f\u0067\x72\x61\u0066\x69\u0061',"sfZlib",'\u0061\x70\x70\x53\u0065\u0074\x74\x69\u006e\u0067\u0073','\x73\u0065\x6e\x68\x61\x45\u0072\x72\x6f\x72',"$window","$injector",'\x6d\u006f\x64\u0061\x6c\x43\x68\x61\x74\x4e\u006f\x76\x6f\x41\u0063\x65\u0073\u0073\u006f','\x65\x72\x72\u006f\u0043\x6f\x6e\x74\x61\x69\u006e\x65\x72\x46\u0061\u0063\u0074\u006f\u0072\x79'];function errosConexaoInterceptor($q,errosFactory,sfUtilitarios,sfCriptografia,sfZlib,appSettings,senhaError,$window,$injector,modalChatNovoAcesso,erroContainerFactory){var enpointsContainerCriticos=["token",'\u0068\x65\x61\u0072\u0074\x62\u0065\x61\u0074','\x6c\u0069\u0076\u0065\u006e\u0065\u0073\x73',"facecheck","recuperar-versao","touchID","exibir-pdf",'\u0067\x65\u006f\x6c\x6f\x63\x61\u0074\x69\u006f\u006e','\x6f\u0062\u0074\u0065\u0072\u0044\x4e\u0041',"open-camera-document",'\x73\x63\x61\u006e\x2d\u0062\x61\x72\x63\u006f\x64\x65',"deviceStorage"];return {'\x72\x65\x73\x70\x6f\x6e\x73\x65\x45\x72\x72\x6f\x72':responseError};function responseError(error_){try{var error=Object.assign({},error_);var isCriptographyEnabled=appSettings.configuracao.criptografia.habilitada;if(isCriptographyEnabled){error=tratarPayload(error);error=tratarRequest2FA(error);}var verificaSeEndpointToken=new RegExp(/periferico\/token.*/i).test(error_ && error_.config && error_.config.url) && (error_ && error_.sucesso && error_.sucesso === false || error_ && error_.data && error_.data.sucesso === false);var verificaSeEndpointContainer=new RegExp(/periferico\.*/i).test(error_ && error_.config && error_.config.url) && enpointsContainerCriticos.find(function(endpoint){return error_.config.url.indexOf(endpoint) > -1;}) && error_.status && error_.status === 503;if(verificaSeEndpointContainer){erroContainerFactory.executar(error_);}if(error_ && (error_.status && error_.status === 400) && (error_.data && error_.data.statusProcessamento && error_.data.statusProcessamento.message && error_.data.statusProcessamento.message.includes('\x45\x72\x72\x6f\x20\u0061\u006f\x20\u0072\u0065\u0061\x6c\x69\u007a\u0061\x72\x20\u0063\u0068\x61\x6d\x61\x64\x61\x20\u0048\x54\u0054\x50\u0020\x65\u0078\u0074\u0065\u0072\x6e\x61'))){error_.data.statusProcessamento.message='\x53\x69\x73\x74\u0065\x6d\u0061\u0020\x69\x6e\u0064\u0069\x73\x70\x6f\x6e\u00ed\u0076\x65\x6c\x2c\x20\u0070\u006f\x72\u0020\x66\x61\u0076\u006f\x72\x20\u0074\x65\u006e\x74\u0065\u0020\u006e\u006f\x76\u0061\x6d\u0065\u006e\u0074\x65\u0020\u006d\x61\u0069\x73\x20\u0074\u0061\x72\u0064\u0065\u002e';}if(error && (error.status === 550 && error.config.url.indexOf('\x61\x75\u0074\u0065\x6e\x74\x69\u0063\x61\x63\x61\u006f\x2f\x61\u0075\u0074\x65\x6e\x74\u0069\x63\u0061\u0072\x55') === -1 && (angular.isDefined(error.config) && angular.isDefined(error.config.data) && angular.isDefined(error.config.data.senha) && angular.isDefined(error.config.data.otp)) && error.data.statusProcessamento && error.data.statusProcessamento.message === "Não foi possível prosseguir com a operação. Entre em contato com a Central de Atendimento 0300 105 1234 para mais informações.")){console.log(5,error_.data.statusProcessamento);senhaError.responseError();return $q.reject(error_);}if(error && (error.status === 422 && error.data.statusProcessamento && isJSON(error.data.statusProcessamento.message).Code == '\u0050\x49\u0058\u0030\u0034\x31')){return $q.reject(error_);}verificaErroCriptografiaSession(error_);if(verificaSeEndpointToken){errosFactory.gerarLogPeriferico(error_);return $q.reject(error_);}if(errosFactory.verificarUrl(error_)){return $q.reject(error_);}if(error && error.status === 401 && angular.isDefined(error.data.adaptabilidade) && error.data.adaptabilidade.autenticacoes.length > 0){error=tratarRequest2FA(error);tratarSegundoFatorAutenticacao(error);}if(error && error.status === 403 && error.config && error.config.data && (error.config.data.tipoOperacao && error.config.data.tipoOperacao.indexOf("NOVO_ACESSO") !== -1 || error.config.data.isMFA)){modalChatNovoAcesso.executarOsaNegado();}else if(error_ && (error_.status === 400 || error_.status === 401)){error_=tratarPayload(error_);}errosFactory.tratarErro(error_);return $q.reject(error_);}catch(error){return $q.reject(error_);}}function tratarSegundoFatorAutenticacao(error){var $uibModal=$injector.get("$uibModal");var request={'\x62\x6f\x64\x79':error.config.data,'\x75\x72\x6c':error.config.url,'\x68\x65\x61\x64\x65\x72\x73':error.config.headers,'\x6d\x65\x74\x68\x6f\x64':error.config.method};var opcoesDefault={'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':"./app/modulos/@COMUM/comum-modularizado/views/modal/chat/modalChat.html",'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':"modalController",'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':'\u006d\x43\x74\x72\x6c','\x62\x61\x63\x6b\x64\x72\x6f\x70':"static",'\x73\x69\x7a\x65':"chat",'\x6b\x65\x79\x62\x6f\x61\x72\x64':false,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){return {'\x6f\x73\x61':true,'\x72\x65\x71\x75\x65\x73\x74':request,'\x72\x65\x73\x70\x6f\x6e\x73\x65':{'\x65\x72\x72\x6f\x72':error.data}};}}};var instanciaModal=$uibModal.open(opcoesDefault);instanciaModal.opened.then(function(){window["sfComponents"].sfPubSub.sub("fecharModalChat",instanciaModal.close,true);});}function tratarRequest2FA(req){try{var criptografar=false;criptografar=angular.isDefined(appSettings.configuracao.criptografia) && appSettings.configuracao.criptografia.habilitada && !req.config.handshake && req.config.url.indexOf('\u006c\x6f\x63\u0061\u006c\u0068\x6f\x73\u0074') < 0;if(criptografar){req.config.data=sfCriptografia.descriptografarPayloadJWE(req.config.data.data);}return req;}catch(err){return req;}}function tratarPayload(resposta_){var criptografar=false,descomprimir=false;if(sfUtilitarios.comecaCom(resposta_.config.url,"http")){criptografar=angular.isDefined(appSettings.configuracao.criptografia) && appSettings.configuracao.criptografia.habilitada && !resposta_.config.handshake && resposta_.config.url.indexOf("localhost") < 0;descomprimir=angular.isDefined(appSettings.comunicacao.compactarDados) && appSettings.comunicacao.compactarDados && !resposta_.config.handshake && resposta_.config.url.indexOf("localhost") < 0;}if(angular.isDefined(resposta_.data) && angular.isString(resposta_.data) && resposta_.data !== ""){if(criptografar){resposta_.data=sfCriptografia.descriptografarPayloadJWE(resposta_.data);}if(descomprimir && resposta_.data.data){resposta_.data=sfZlib.descomprimir(resposta_.data.data);}}return resposta_;}function verificaErroCriptografiaSession(error_){if(error_.status === 500 && error_.config.url.indexOf('\u006c\u0069\x73\u0074\u0061\u0072\u002d\x74\x69\u0074\x75\x6c\x61\x72\x65\u0073\x2d\u0075\u006e\x69\u0066\u0069\u0063\x61\u0064\x6f') !== -1 && error_.data.statusProcessamento.code === '\u0035\x30\u0030' && error_.data.statusProcessamento.message === ""){if($window && $window['\x6e\x61\x74\x69\x76\u0065\x55\x49\u004d\u0061\u006e\x61\u0067\u0065\u0072']){$window['\u006e\u0061\x74\u0069\u0076\u0065\u0055\u0049\u004d\u0061\x6e\u0061\x67\x65\x72'].restartApplication();}}}function apresentarReprovadoPeloOsa(){this.chatModal.exibirModal({'\x66\x6c\x75\x78\x6f':'\u006f\u0073\x61\x2d\x6e\x65\u0067\x61\u0074\u0069\u0076\u006f','\x70\x61\x79\x6c\x6f\x61\x64':{'\x61\x67\x65\x6e\x63\x69\x61':this.sfContexto.obterValorContextoTrabalho('AGENCIA_COMUNICACAO'),'\x63\x6f\x6e\x74\x61':this.sfContexto.obterValorContextoTrabalho('CONTA_CORRENTE'),'\x69\x64\x43\x6c\x69\x65\x6e\x74\x65':this.sfContexto.obterValorContextoTrabalho('\u0043\u004f\x44\x49\x47\x4f\x5f\u0043\x4c\u0049\u0045\u004e\u0054\x45')},'\x70\x61\x79\x6c\x6f\x61\x64\x46\x6c\x75\x78\x6f':{'\x63\x61\x6e\x61\x6c':'MBF','\x61\x67\x65\x6e\x63\x69\x61':this.sfContexto.obterValorContextoTrabalho('AGENCIA_COMUNICACAO'),'\x63\x6f\x6e\x74\x61':this.sfContexto.obterValorContextoTrabalho('\x43\x4f\u004e\u0054\u0041\u005f\x43\x4f\x52\u0052\u0045\x4e\u0054\u0045'),'\x63\x6f\x64\x69\x67\x6f\x43\x6c\x69\x65\x6e\x74\x65\x54\x69\x74\x75\x6c\x61\x72':this.sfContexto.obterValorContextoTrabalho('\x43\u004f\u0044\x49\u0047\x4f\u005f\x43\u004c\x49\x45\u004e\x54\x45')}});}function isJSON(str){try{return JSON.parse(str);}catch(e){return false;}}}})();(function(){angular.module("arq-base-canais").factory("logXhrInterceptor",logXhrInterceptor);logXhrInterceptor.$inject=['\u0073\x66\u0055\u0074\u0069\x6c\u0069\x74\u0061\x72\u0069\u006f\x73',"sfCriptografia","sfZlib",'\u0061\u0070\u0070\u0053\x65\x74\x74\x69\u006e\x67\u0073',"$injector","sfContexto"];function logXhrInterceptor(sfUtilitarios,sfCriptografia,sfZlib,appSettings,$injector,sfContexto){var sfConectorLog;var sfNavegador;var criptogfrafiaHabilitada=angular.isDefined(appSettings.configuracao.criptografia) && appSettings.configuracao.criptografia.habilitada;var compressaoHabilitada=angular.isDefined(appSettings.comunicacao.compactarDados) && appSettings.comunicacao.compactarDados;return {'\x72\x65\x73\x70\x6f\x6e\x73\x65':response,'\x72\x65\x73\x70\x6f\x6e\x73\x65\x45\x72\x72\x6f\x72':responseError};function response(res){logBodyXhr(res);return res;}function responseError(res){logErro404(res);return Promise.reject(res);}function inicializarInjector(){if(!sfConectorLog){try{sfConectorLog=$injector.get("sfConectorLog");sfNavegador=$injector.get('\x73\x66\u004e\u0061\x76\x65\u0067\u0061\u0064\u006f\u0072');}catch(error){console.log(error);}}}function logErro404(res){return new Promise(function(resolve){var status=res.status;var url=res && res.config && res.config.url;if(status != 404 || url.indexOf('\u002f\x6c\x6f\u0067\u002f') >= 0){return resolve(res);}inicializarInjector();var sessionId=sfContexto.obterValorContextoSessao('\x49\x64\x53\u0065\u0073\u0073\x61\x6f');var agencia=sfContexto.obterValorContextoTrabalho("AGENCIA_EXIBICAO");var conta=sfContexto.obterValorContextoTrabalho("CONTA_CORRENTE");var codCli=sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE");var estadoAtual=sfNavegador && sfNavegador.obterEstadoAtual && sfNavegador.obterEstadoAtual();var fluxo=estadoAtual && estadoAtual.fluxoAtual && estadoAtual.fluxoAtual.idFluxo();var estado=estadoAtual && estadoAtual.id;var versaoSpa=sfContexto.obterValorContextoSessao("versaoAplicacao");var versaoContainer=sfContexto.obterValorContextoSessao("versaoContainer");var logMensagem={'\x75\x72\x6c':url};var deviceInfo={'\x61\x67':agencia,'\x63\x63':conta,'\x63\x6f\x64\x43\x6c\x69':codCli,'\x76\x65\x72\x53\x70\x61':versaoSpa,'\x76\x65\x72\x43\x6e\x74':versaoContainer};var objLog={'\x63\x61\x6d\x61\x64\x61':'\u0061\u0072\u0071\x53\u0050\x41','\x63\x6c\x61\x73\x73\x65':"logErro404",'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':new Date().toISOString(),'\x67\x6d\x74':0,'\x61\x70\x6c\x69\x63\x61\x63\x61\x6f':'\x4d\x42\x46','\x63\x61\x74\x65\x67\x6f\x72\x69\x61':"Info",'\x73\x65\x73\x73\x69\x6f\x6e\x49\x64':sessionId,'\x6d\x65\x73\x73\x61\x67\x65\x49\x64':undefined,'\x66\x6c\x75\x78\x6f':fluxo,'\x65\x73\x74\x61\x64\x6f':estado,'\x6d\x65\x74\x6f\x64\x6f':url,'\x6d\x65\x6e\x73\x61\x67\x65\x6d':logMensagem,'\x64\x65\x76\x69\x63\x65\x49\x6e\x66\x6f':deviceInfo};var configLog={'\x74\x69\x70\x6f\x4c\x6f\x67':"execucao",'\x64\x61\x74\x61':objLog};sfConectorLog.executar(configLog);return resolve();});}function podeGravarLogEndpoint(endpoint){return endpoint.indexOf('\u002f\x70\u0066\u002f') >= 0 || endpoint.indexOf('\x2f\x6d\x62\x66\x2f') >= 0 || endpoint.indexOf("localhost") >= 0 && endpoint.indexOf("firebase") < 0;}function logBodyXhr(res){new Promise(function(resolve){var endpoint=res && res.config && res.config.url;if(!podeGravarLogEndpoint(endpoint)){return resolve();}inicializarInjector();var sessionId=sfContexto.obterValorContextoSessao('\x49\x64\u0053\x65\x73\x73\u0061\u006f');var agencia=sfContexto.obterValorContextoTrabalho("AGENCIA_EXIBICAO");var conta=sfContexto.obterValorContextoTrabalho('\u0043\x4f\u004e\u0054\x41\x5f\x43\x4f\u0052\x52\u0045\u004e\x54\u0045');var codCli=sfContexto.obterValorContextoTrabalho('\x43\x4f\x44\u0049\x47\x4f\x5f\x43\x4c\x49\x45\x4e\u0054\x45');var estadoAtual=sfNavegador && sfNavegador.obterEstadoAtual && sfNavegador.obterEstadoAtual();var fluxo=estadoAtual && estadoAtual.fluxoAtual && estadoAtual.fluxoAtual.idFluxo();var estado=estadoAtual && estadoAtual.id;converterBodiesResponse(res);var bodyRequest=res && res.config && res.config.data;var bodyResponse=res.data;var httpStatusCode=res.status;var messageId=res.config.headers['\u0061\u006d\u0063\x2d\u006d\x65\u0073\u0073\x61\u0067\u0065\x2d\x69\x64'];var versaoSpa=sfContexto.obterValorContextoSessao('\u0076\u0065\x72\x73\x61\u006f\u0041\x70\x6c\x69\x63\x61\u0063\x61\x6f');var versaoContainer=sfContexto.obterValorContextoSessao("versaoContainer");var logMensagem={'\x75\x72\x6c':endpoint,'\x63\x6f\x64\x65':httpStatusCode,'\x72\x65\x71':bodyRequest,'\x72\x65\x73':bodyResponse};var deviceInfo={'\x61\x67':agencia,'\x63\x63':conta,'\x63\x6f\x64\x43\x6c\x69':codCli,'\x76\x65\x72\x53\x70\x61':versaoSpa,'\x76\x65\x72\x43\x6e\x74':versaoContainer};var objLog={'\x63\x61\x6d\x61\x64\x61':'\x61\x72\x71\x53\x50\x41','\x63\x6c\x61\x73\x73\x65':'\u006c\x6f\x67\u0042\u006f\u0064\x79\x58\u0068\x72','\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':new Date().toISOString(),'\x67\x6d\x74':0,'\x61\x70\x6c\x69\x63\x61\x63\x61\x6f':'\x4d\u0042\u0046','\x63\x61\x74\x65\x67\x6f\x72\x69\x61':'\u0049\x6e\u0066\x6f','\x73\x65\x73\x73\x69\x6f\x6e\x49\x64':sessionId,'\x6d\x65\x73\x73\x61\x67\x65\x49\x64':messageId,'\x66\x6c\x75\x78\x6f':fluxo,'\x65\x73\x74\x61\x64\x6f':estado,'\x6d\x65\x74\x6f\x64\x6f':endpoint,'\x6d\x65\x6e\x73\x61\x67\x65\x6d':logMensagem,'\x64\x65\x76\x69\x63\x65\x49\x6e\x66\x6f':deviceInfo};var configLog={'\x74\x69\x70\x6f\x4c\x6f\x67':'\x65\u0078\u0065\x63\u0075\u0063\u0061\u006f','\x64\x61\x74\x61':objLog};sfConectorLog.executar(configLog);return resolve();function converterBodiesResponse(res){var criptografar=false,descomprimir=false;var endpointElegivel=sfUtilitarios.comecaCom(res.config.url,"http") && !res.config.handshake && res.config.url.indexOf("localhost") < 0;criptografar=criptogfrafiaHabilitada && endpointElegivel;descomprimir=compressaoHabilitada && endpointElegivel;var req=res && res.config && res.config.data;converterBody(req);converterBody(res);return res;function converterBody(req){if(req && req.data && angular.isString(req.data)){if(criptografar){req.data=sfCriptografia.descriptografarPayloadJWE(req.data);}if(descomprimir && req.data.data){req.data=sfZlib.descomprimir(req.data.data);}}}}});}}})();(function(){angular.module("arq-base-canais").factory('\u0072\x65\u0071\u0075\x65\u0073\x74\x43\x6f\u006e\u0065\x78\x61\x6f\u0049\u006e\x74\u0065\x72\u0063\u0065\u0070\x74\u006f\u0072',requestConexaoInterceptor);requestConexaoInterceptor.$inject=["sfUtilitarios","sfCriptografia","appSettings"];function requestConexaoInterceptor(sfUtilitarios,sfCriptografia,appSettings){return {'\x72\x65\x71\x75\x65\x73\x74':request};function request(config){if(validarUrlPagVeiculares(config.url)){if(config.data && config.data.desafio){var desafio=JSON.parse(atob(config.data.desafio));var desafioSenha=desafio.autenticacoes.find(function(dado){return dado.tipo === "senha";});if(desafioSenha){config.data.WC_PGR2_SENHA=desafioSenha.data.senha;}}}return config;}function validarUrlPagVeiculares(url){var existe=false;var urlVeiculares=['\x65\x66\u0065\u0074\u0069\x76\x61\x72\x2d\u0070\u0061\u0067\x61\u006d\x65\u006e\x74\x6f\u0073\x2d\x6d\x66\u0061',"efetivar-pagamentos-veiculares-mfa"];for(var index=0;index < urlVeiculares.length;index++){var existe=url.indexOf(urlVeiculares[index]) > -1;if(existe){break;}}return existe;}}})();(function(){"use strict";var constant={'\x41\x43\x45\x53\x53\x5f\x44\x45\x4e\x49\x45\x44':"Access Denied",'\x4d\x4f\x44\x41\x4c':{'\x61\x6b\x61\x6d\x61\x69':'\x6d\x6f\x64\u0061\x6c\x2d\x61\u006b\x61\u006d\u0061\x69','\x4a\x57\x54':"modal-relogar-jwt",'\x47\x45\x4e\x45\x52\x49\x43\x4f\x5f\x53\x45\x4d\x5f\x52\x45\x44\x49\x52\x45\x43\x49\x4f\x4e\x41\x4d\x45\x4e\x54\x4f':'\u006d\u006f\u0064\u0061\x6c\x2d\u0067\u0065\x6e\x65\u0072\x69\x63\x6f\u002d\u0073\x65\u006d\u002d\x61\u0063\x61\u006f','\x43\x4f\x4e\x4e':"check-connection"}};angular.module('\u0061\x72\u0071\x2d\u0062\u0061\x73\x65\u002d\u0063\u0061\x6e\x61\u0069\x73').constant("arqCanaisConst",constant);})();(function(){"use strict";angular.module("arq-base-canais").factory('\x65\u0072\x72\x6f\u0043\u006f\x6e\x74\u0061\x69\x6e\u0065\u0072\x46\x61\x63\x74\x6f\x72\u0079',erroContainerFactory);erroContainerFactory.$inject=['\x24\u0069\x6e\x6a\u0065\x63\u0074\x6f\u0072',"modalResetContainer"];function erroContainerFactory($injector,modalResetContainer){var $http;var numeroErros=0;return {'\x65\x78\x65\x63\x75\x74\x61\x72':executar};function executar(params){$http=$injector.get("$http");var $timeout=$injector.get("$timeout");if(numeroErros > 4){$timeout(function(){modalResetContainer.executar();},params.config.url.indexOf('\x72\x65\x63\x75\u0070\u0065\x72\u0061\x72\u002d\x76\x65\u0072\x73\x61\x6f') > -1?5000:0);}else {executarChamada(params).catch(function(err){if(err.status == 503){numeroErros++;}});}}function executarChamada(params){if(params.config.method === '\x47\x45\x54'){return executarGET(params);}return executarPOST(params);}function executarGET(params){return $http[params.config.method.toLowerCase()](params.config.url);}function executarPOST(params){return $http[params.config.method.toLowerCase()](params.config.url,params.config.data);}}})();(function(){"use strict";angular.module('\u0061\x72\u0071\x2d\u0062\x61\x73\x65\u002d\x63\u0061\u006e\x61\x69\x73').factory("errosFactory",errosFactory);errosFactory.$inject=['\u0061\x72\x71\u0043\x61\u006e\u0061\u0069\u0073\x43\u006f\x6e\u0073\x74','\u0024\x72\x6f\u006f\u0074\x53\x63\u006f\x70\u0065',"$injector"];function errosFactory(arqConst,$rootScope,$injector){return {'\x74\x72\x61\x74\x61\x72\x45\x72\x72\x6f':tratarErro,'\x76\x65\x72\x69\x66\x69\x63\x61\x72\x55\x72\x6c':verificarUrl,'\x67\x65\x72\x61\x72\x4c\x6f\x67\x50\x65\x72\x69\x66\x65\x72\x69\x63\x6f':gerarLogPeriferico};function tratarErro(error){var modal=definirModal(error);if(modal){emitirEventoModal(error,modal);}return error;}function emitirEventoModal(error,evento){error.interceptor=true;gerarLogErro(error,evento);$rootScope.$emit(evento);return error;}function definirModal(error){var errorMessageStatusProcessamento=_.has(error,"data.statusProcessamento.message")?error.data.statusProcessamento.message:"";var errorMessageStatus=_.has(error,"data.message")?error.data.message:"";if(verificarHttpStatus(error)){if(verificarMensagemModalGenerico()){return arqConst.MODAL.GENERICO_SEM_REDIRECIONAMENTO;}if(ehErroJWT()){return arqConst.MODAL.JWT;}if(ehErroAkamai(error)){return arqConst.MODAL.akamai;}}if(verificarConexao(error)){return arqConst.MODAL.CONN;}return false;function verificarMensagemModalGenerico(){if(validarMensagemErro(/informar senha OTP.*/i) || validarMensagemErro(/socket hang up.*/i) || validarMensagemErro(/Erro ao validar OTP.*/i)){return true;}return false;}function ehErroJWT(){if(error && (error.status == 400 || error.status == 401) && validarMensagemErro(/jwt.* inválido.*/i)){return true;}return false;}function ehErroAkamai(error){if(Array.isArray(error.data) && error.includes(arqConst.ACESS_DENIED) && error.status == 403){return true;}return false;}function validarMensagemErro(regex){regex=new RegExp(regex);if(regex.test(errorMessageStatusProcessamento.toLowerCase()) || regex.test(errorMessageStatus.toLowerCase())){return true;}return false;}}function verificarUrl(error){if(error && error.config && error.config.url){var excecoes=["cancelar",'\x70\u0065\u0072\u0069\x66\x65\u0072\u0069\x63\x6f','\u0076\u0061\x6c\x69\x64\u0061\u0072\u002d\x73\u0065\u0072\u0069\x61\u006c\x2d\x6e\x75\x6d\x62\x65\u0072',"gravar","/www/modulosLocal.json"];return excecoes.some(function(substring){return error.config.url.includes(substring);});}return true;}function verificarConexao(error){return error && error.status === -1 && (_.has(error,"config.url") && error.config.url.includes("/pf/") && !error.config.url.includes("localhost"));}function verificarHttpStatus(error){return error && (error.status >= 400 && error.status <= 422) && error.status != 404 || error.status >= 500 && error.status <= 550;}function gerarLogErro(error,evento){var logger=$injector.get('\u0073\u0066\x4c\x6f\u0067\u0067\x65\u0072');var sfNavegador=$injector.get("sfNavegador");logger.escreverLogExecucao(definirCampoMensagem(error),evento,sfNavegador.obterEstadoAtual().id,sfNavegador.obterEstadoAtual().fluxoAtual.idFluxo(),"ERROR",{'\x6d\x65\x74\x6f\x64\x6f':'\x65\u0072\u0072\x6f\u0073\u0046\u0061\x63\u0074\u006f\u0072\u0079','\x63\x6c\x61\x73\x73\x65':'\x67\u0065\u0072\u0061\u0072\x4c\x6f\x67\x45\x72\x72\x6f'});}function definirCampoMensagem(error){var errorMessage="";if(error && error.config && error.config.url && error.config.url.indexOf('\x61\u0075\u0074\u0065\x6e\x74\x69\x63\u0061\u0072') > -1){errorMessage="Mensagem de erro não informada";return errorMessage;}if(error && error.data && error.data.message){errorMessage=error.data.message;}else if(error && error.statusProcessamento && error.statusProcessamento.message){errorMessage=error.statusProcessamento.message;}else if(error && error.data && error.data.statusProcessamento && error.data.statusProcessamento.message && error.data.statusProcessamento.message !== '\u0049\u006e\u0074\x65\u0072\u006e\x61\x6c\u0020\x53\x65\u0072\u0076\x65\x72\x20\u0045\x72\u0072\x6f\x72'){errorMessage=error.data.statusProcessamento.message;}else {errorMessage=error;}return errorMessage;}function gerarLogPeriferico(error){var logger=$injector.get('\u0073\x66\x4c\u006f\u0067\u0067\u0065\u0072');var sfNavegador=$injector.get('\x73\x66\u004e\x61\u0076\u0065\u0067\x61\x64\x6f\x72');logger.escreverLogExecucao(error && JSON.stringify(error.data) || '\u004d\u0065\u006e\u0073\x61\u0067\u0065\x6d\x20\u006e\u00e3\u006f\x20\u0069\u006e\x66\x6f\x72\u006d\x61\u0064\x61',"gerarLogPeriferico",sfNavegador.obterEstadoAtual().id,"Fluxo Container: " + sfNavegador.obterEstadoAtual().fluxoAtual.idFluxo(),"ERROR",{'\x6d\x65\x74\x6f\x64\x6f':"errosFactory",'\x63\x6c\x61\x73\x73\x65':"gerarLogErroContainer"});}}})();(function(){"use strict";angular.module('\u0061\u0072\u0071\x2d\x62\u0061\u0073\u0065\x2d\x63\x61\x6e\x61\x69\u0073').factory("modalChatNovoAcesso",modalChatNovoAcesso);modalChatNovoAcesso.$inject=['\x24\u0069\u006e\x6a\u0065\x63\x74\u006f\x72'];function modalChatNovoAcesso($injector){return {'\x65\x78\x65\x63\x75\x74\x61\x72\x4f\x73\x61\x4e\x65\x67\x61\x64\x6f':executarOsaNegado};function executarOsaNegado(){if(document.querySelector('\u0073\u0066\u002d\u0063\u002d\u0063\u0068\u0061\x74\x2d\x62\u006f\x64\x79\x2d\u006d\x66\u0061') !== null){return;}var sfContexto=$injector.get("sfContexto");var $uibModal=$injector.get('\u0024\x75\u0069\x62\x4d\u006f\x64\x61\u006c');var opcoesDefault={'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':'\u002e\u002f\x61\x70\u0070\u002f\u006d\x6f\u0064\x75\x6c\u006f\x73\u002f\x40\x43\x4f\x4d\x55\u004d\x2f\x63\x6f\u006d\x75\x6d\u002d\x6d\u006f\u0064\u0075\x6c\u0061\u0072\x69\u007a\u0061\x64\x6f\u002f\x76\u0069\x65\u0077\x73\u002f\u006d\x6f\x64\x61\x6c\u002f\u0063\u0068\u0061\x74\u002f\u006d\x6f\x64\u0061\u006c\u0043\u0068\u0061\x74\u002e\u0068\u0074\u006d\u006c','\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':'\u006d\u006f\u0064\x61\u006c\x43\x6f\x6e\x74\u0072\x6f\u006c\u006c\x65\u0072','\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':"mCtrl",'\x62\x61\x63\x6b\x64\x72\x6f\x70':"static",'\x73\x69\x7a\x65':'\u0063\x68\u0061\x74','\x6b\x65\x79\x62\x6f\x61\x72\x64':false,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){return {'\x66\x6c\x75\x78\x6f':"osa-negativo",'\x70\x61\x79\x6c\x6f\x61\x64':{'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho("AGENCIA_COMUNICACAO"),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho('\u0043\u004f\x4e\x54\u0041\u005f\u0043\u004f\u0052\x52\x45\x4e\x54\u0045'),'\x69\x64\x43\x6c\x69\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho('\u0043\x4f\u0044\u0049\x47\u004f\x5f\u0043\u004c\x49\u0045\x4e\x54\u0045')},'\x70\x61\x79\x6c\x6f\x61\x64\x46\x6c\x75\x78\x6f':{'\x63\x61\x6e\x61\x6c':'\u004d\x42\u0046','\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho('\u0041\u0047\x45\u004e\x43\x49\x41\x5f\x43\u004f\x4d\x55\u004e\u0049\x43\u0041\x43\u0041\x4f'),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho('\u0043\u004f\x4e\x54\u0041\u005f\x43\x4f\x52\u0052\u0045\u004e\u0054\u0045'),'\x63\x6f\x64\x69\x67\x6f\x43\x6c\x69\x65\x6e\x74\x65\x54\x69\x74\x75\x6c\x61\x72':sfContexto.obterValorContextoTrabalho("CODIGO_CLIENTE")}};}}};var instanciaModal=$uibModal.open(opcoesDefault);instanciaModal.opened.then(function(){window['\x73\u0066\u0043\x6f\x6d\u0070\u006f\u006e\x65\u006e\u0074\u0073'].sfPubSub.sub("fecharModalChat",instanciaModal.close,true);window['\u0073\x66\u0043\x6f\u006d\u0070\x6f\u006e\x65\u006e\u0074\u0073'].sfPubSub.pub("sfFecharmodal",{});});instanciaModal.closed.then(function(){window['\u0073\u0066\x43\x6f\x6d\x70\x6f\u006e\u0065\x6e\u0074\u0073'].sfPubSub.pub("sfFecharmodal",{});});}}})();(function(){"use strict";angular.module('\x61\u0072\x71\x2d\x62\x61\x73\u0065\u002d\x63\x61\x6e\x61\x69\x73').factory("modalResetContainer",modalResetContainer);modalResetContainer.$inject=['\u0024\u0069\x6e\x6a\x65\u0063\u0074\u006f\x72'];function modalResetContainer($injector){var instanciaModal;return {'\x65\x78\x65\x63\x75\x74\x61\x72':executar};function executar(){var $uibModal=$injector.get('\u0024\x75\x69\u0062\u004d\x6f\u0064\x61\u006c');var opcoesDefault={'\x61\x6e\x69\x6d\x61\x74\x69\x6f\x6e':true,'\x74\x65\x6d\x70\x6c\x61\x74\x65\x55\x72\x6c':"./app/modulos/@COMUM/comum-modularizado/views/modal/modalResetContainer.html",'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72':"modalController",'\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\x65\x72\x41\x73':'\x6d\x43\u0074\u0072\x6c','\x62\x61\x63\x6b\x64\x72\x6f\x70':'\x73\x74\u0061\x74\u0069\x63','\x73\x69\x7a\x65':"sm",'\x6b\x65\x79\x62\x6f\x61\x72\x64':false,'\x72\x65\x73\x6f\x6c\x76\x65':{'\x64\x61\x64\x6f\x73':function(){return {'\x74\x69\x74\x75\x6c\x6f':"teste",'\x72\x65\x73\x74\x61\x72\x74':reset};}}};instanciaModal=$uibModal.open(opcoesDefault);instanciaModal.opened.then(function(){window["sfComponents"].sfPubSub.sub("fecharModalContainer",reset,true);});}function reset(){var $window=$injector.get('\x24\x77\x69\x6e\u0064\u006f\x77');console.log('\u0052\u0065\x73\x65\u0074');if($window && $window['\u006e\x61\u0074\x69\u0076\u0065\x55\u0049\u004d\x61\x6e\x61\x67\u0065\u0072']){$window['\x6e\u0061\x74\x69\u0076\u0065\x55\u0049\x4d\x61\u006e\x61\u0067\x65\u0072'].restartApplication();}instanciaModal.close();}}})();(function(){"use strict";angular.module('\x61\u0072\u0071\u002d\u0062\x61\x73\u0065\x2d\u0063\x61\x6e\x61\x69\x73').factory("senhaError",senhaError);senhaError.$inject=["$injector"];function senhaError($injector){return {'\x72\x65\x73\x70\x6f\x6e\x73\x65\x45\x72\x72\x6f\x72':responseError};function responseError(){var modal=$injector.get("modal");modal.abrirModalErro("","",executar,"./app/modulos/@COMUM/comum-modularizado/views/modal/modalSenhaTransacional.html");}function executar(){var sfContexto=$injector.get("sfContexto");var conector=$injector.get('\u0073\x66\u0043\x6f\x6e\x65\u0063\u0074\x6f\x72\x41\u0050\x49');var param={'\x61\x67\x65\x6e\x63\x69\x61':sfContexto.obterValorContextoTrabalho("AGENCIA_COMUNICACAO"),'\x63\x6f\x6e\x74\x61':sfContexto.obterValorContextoTrabalho("CONTA_CORRENTE"),'\x63\x6f\x6e\x74\x61\x43\x6f\x72\x72\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho("CONTA_CORRENTE"),'\x63\x6f\x64\x69\x67\x6f\x43\x6c\x69\x65\x6e\x74\x65':sfContexto.obterValorContextoTrabalho('\x43\u004f\u0044\u0049\x47\x4f\x5f\u0043\u004c\x49\u0045\u004e\u0054\x45'),'\x63\x61\x6e\x61\x6c':'\x48\u0049\x4e','\x69\x64\x4d\x6f\x74\x69\x76\x6f\x44\x65\x73\x62\x6c\x6f\x71\x75\x65\x69\x6f':"",'\x63\x6f\x64\x69\x67\x6f\x55\x73\x75\x61\x72\x69\x6f':'\u004d\u0042\u0046','\x75\x73\x75\x61\x72\x69\x6f':sfContexto.obterValorContextoTrabalho('\u0043\u004f\x44\x49\u0047\x4f\x5f\x43\x4c\u0049\u0045\x4e\x54\x45').toString(),'\x6d\x6f\x74\x69\x76\x6f\x44\x65\x73\x62\x6c\x6f\x71\x75\x65\x69\x6f':'\u0044\x65\u0073\x62\u006c\x6f\x71\x75\x65\u0069\x6f\u0020\u006e\u006f\u0076\x6f\x20\x61\u0063\u0065\u0073\x73\u006f','\x64\x6e\x61\x4d\x61\x71\x75\x69\x6e\x61':sfContexto.obterValorContextoTrabalho("IDENTIFICACAO_MAQUINA") && sfContexto.obterValorContextoTrabalho("IDENTIFICACAO_MAQUINA") != ""?sfContexto.obterValorContextoTrabalho('\u0049\u0044\x45\x4e\x54\x49\u0046\u0049\x43\x41\x43\x41\x4f\u005f\u004d\x41\x51\u0055\x49\u004e\u0041').replace('\u007c',""):undefined,'\x74\x69\x70\x6f\x4f\x70\x65\x72\x61\x63\x61\x6f':"NOVO_ACESSO_DESBLOQUEIO_SENHA_TRANSACIONAL",'\x73\x65\x67\x6d\x65\x6e\x74\x6f':sfContexto.obterValorContextoTrabalho('\x53\u0045\x47\u004d\u0045\u004e\u0054\u0041\u0043\x41\u004f\x47\u0045\u0052\u0045\x4e\x54\x45\u005f\u0043\u004f\x4e\u0054\x41')};console.info(param);var req={'\x6d\x65\x74\x68\x6f\x64':'\u0050\x4f\x53\u0054','\x75\x72\x6c':"senha/desbloqueio-senha-transacional",'\x64\x61\x74\x61':param,'\x64\x61\x74\x61\x54\x79\x70\x65':'\u006a\u0073\x6f\x6e','\x65\x6e\x76\x69\x61\x72\x41\x6e\x61\x6c\x69\x73\x65\x52\x69\x73\x63\x6f':true};return conector.executar(req,true).then(function(response){console.info(response);});}}})();